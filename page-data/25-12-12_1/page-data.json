{"componentChunkName":"component---src-templates-blog-template-js","path":"/25-12-12_1/","result":{"data":{"cur":{"id":"16028044-feb8-52fb-8dfc-47bb74183808","html":"<p>ì°¸ê³  : í…Œë””ë…¸íŠ¸ì˜ RAG ë¹„ë²•ë…¸íŠ¸ (<a href=\"https://fastcampus.co.kr/data_online_teddy)\">https://fastcampus.co.kr/data_online_teddy)</a><br>ì†ŒìŠ¤ì½”ë“œ: <a href=\"https://github.com/teddylee777/langchain-kr\">https://github.com/teddylee777/langchain-kr</a><br>ìœ„í‚¤ë…ìŠ¤: <a href=\"https://wikidocs.net/book/14314\">https://wikidocs.net/book/14314</a></p>\n<p>Â </p>\n<p>ì˜¤ëŠ˜ë„ ê°€ì¦ˆì•„..!!!!\nìƒˆë¡œìš´ ê±¸ ì•Œì•„ê°€ëŠ” ê±´ ì •ë§ ì¦ê²ë‹¤~ ë‹¤ë§Œ ì•Œê²Œëœ ê²ƒì„ {ì •ë¦¬}í•˜ëŠ” ê²ƒì€ ë³„ê°œì¼ ë¿â€¦ Oâ€”&#x3C;</p>\n<p>ê±°ë‘ì ˆë¯¸. ë ˆì¸ ê³ ~!</p>\n<p>Â </p>\n<h2 id=\"lcel-ì¸í„°í˜ì´ìŠ¤\" style=\"position:relative;\"><a href=\"#lcel-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4\" aria-label=\"lcel ì¸í„°í˜ì´ìŠ¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LCEL ì¸í„°í˜ì´ìŠ¤</h2>\n<hr>\n<p>ì§€ë‚œ ê¸€ì—ì„œëŠ” <code class=\"language-text\">invoke()</code>, <code class=\"language-text\">stream()</code> ë©”ì„œë“œë¥¼ ì‚´í´ë´¤ëŠ”ë°\nì‚¬ì‹¤ <code class=\"language-text\">batch()</code> ë©”ì„œë“œë„ ìˆë‹¤.</p>\n<h4 id=\"batch-ë°°ì¹˜-ì²˜ë¦¬\" style=\"position:relative;\"><a href=\"#batch-%EB%B0%B0%EC%B9%98-%EC%B2%98%EB%A6%AC\" aria-label=\"batch ë°°ì¹˜ ì²˜ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>batch(): ë°°ì¹˜ ì²˜ë¦¬</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> PromptTemplate\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>output_parsers <span class=\"token keyword\">import</span> StrOutputParser\n\nmodel <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nprompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{topic}ì— ëŒ€í•˜ì—¬ 3ë¬¸ì¥ìœ¼ë¡œ ì„¤ëª…í•´ì¤˜.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># í”„ë¡¬í”„íŠ¸ì™€ ëª¨ë¸ì„ ì—°ê²°í•˜ì—¬ ëŒ€í™” ì²´ì¸ì„ ìƒì„±í•©ë‹ˆë‹¤.</span>\nchain <span class=\"token operator\">=</span> prompt <span class=\"token operator\">|</span> model <span class=\"token operator\">|</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nchain<span class=\"token punctuation\">.</span>batch<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ChatGPT\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Instagram\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># ì¶œë ¥: ['ChatGPTëŠ” ìì—°ì–´ ì²˜ë¦¬ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ëŒê³¼ì˜ ëŒ€í™”ë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ì¸ê³µì§€ëŠ¥ ì±—ë´‡ì´ë‹¤. ìµœì‹ ì˜ ë”¥ëŸ¬ë‹ ëª¨ë¸ì„ ë°”íƒ•ìœ¼ë¡œ í•™ìŠµí•˜ë©° ì‚¬ìš©ìì˜ ì§ˆë¬¸ì— ëŒ€ë‹µí•˜ê³  ë‹¤ì–‘í•œ ì£¼ì œì— ëŒ€í•œ ì •ë³´ë¥¼ ì œê³µí•œë‹¤. ì‚¬ìš©ìì™€ ìì—°ìŠ¤ëŸ½ê²Œ ìƒí˜¸ì‘ìš©í•˜ë©´ì„œ í•™ìŠµê³¼ ì—…ë°ì´íŠ¸ë¥¼ ê±°ì³ ë³´ë‹¤ ì •í™•í•˜ê³  ìœ ìš©í•œ ì‘ë‹µì„ ì œê³µí•œë‹¤.', 'Instagramì€ ì‚¬ì§„ê³¼ ë™ì˜ìƒì„ ê³µìœ í•˜ê³  ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ê³¼ ì†Œí†µí•  ìˆ˜ ìˆëŠ” ì†Œì…œ ë¯¸ë””ì–´ í”Œë«í¼ì´ë‹¤. ì¸ìŠ¤íƒ€ê·¸ë¨ì€ íœ´ëŒ€í° ì•±ì„ í†µí•´ ì´ìš©ë˜ë©°, ë‹¤ì–‘í•œ í•„í„°ì™€ íš¨ê³¼ë¥¼ í†µí•´ ì‚¬ì§„ì„ ê°€ê³µí•˜ê³  ì„¸ë ¨ëœ í”„ë¡œí•„ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë˜í•œ í•´ì‹œíƒœê·¸ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ì£¼ì œì™€ ê´€ì‹¬ì‚¬ì— ë§ëŠ” ì½˜í…ì¸ ë¥¼ ê²€ìƒ‰í•˜ê³  ì†Œí†µí•  ìˆ˜ ìˆë‹¤.']</span></code></pre></div>\n<p>ë¦¬ìŠ¤íŠ¸ì— input_variablesì˜ ê°’ë“¤ì„ ê°–ëŠ” ë”•ì…”ë„ˆë¦¬ë¥¼ ëª¨ì•„ì„œ ê°ê° ë°°ì¹˜ë¡œ chainì— ë˜ì§„ë‹¤.<br>\n<strong>modelì„ ê±°ì¹˜ê³  íŒŒì‹±ì„ ê±°ì¹˜ë©´ì„œ ê° ë°°ì¹˜ ê²°ê³¼ì˜ contentë“¤ì„ ë¦¬ìŠ¤íŠ¸ì— ë¬¶ì–´ì„œ ì €ì¥ëœë‹¤.</strong></p>\n<p>ì°¸ê³ ë¡œ config ë”•ì…”ë„ˆë¦¬ì—ì„œ max_concurrency í‚¤ì˜ ê°’ì„ ì„¤ì •í•˜ì—¬ ë™ì‹œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ì‘ì—… ìˆ˜ë¥¼ ì •í•´ì¤„ ìˆ˜ ìˆë‹¤. ì¦‰, í•œë²ˆì— ë°°ì¹˜ë¥¼ ì—¬ëŸ¬ ê°œ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆê³  ê²°ê³¼ëŠ” ë˜‘ê°™ì´ ëª¨ë“  ë°°ì¹˜ë¥¼ ë¬¶ì–´ì„œ ì •ë¦¬ë˜ì–´ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">chain<span class=\"token punctuation\">.</span>batch<span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ChatGPT\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Instagram\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ë©€í‹°ëª¨ë‹¬\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"í”„ë¡œê·¸ë˜ë°\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ë¨¸ì‹ ëŸ¬ë‹\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    config<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"max_concurrency\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Â </p>\n<h3 id=\"ë¹„ë™ê¸°-ë©”ì†Œë“œ\" style=\"position:relative;\"><a href=\"#%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%A9%94%EC%86%8C%EB%93%9C\" aria-label=\"ë¹„ë™ê¸° ë©”ì†Œë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¹„ë™ê¸° ë©”ì†Œë“œ</h3>\n<p>ì–´ë–¤ ì‘ì—…ì„ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì‘ì—…ë„ í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ë¹„ë™ê¸°ë¼ê³  í•œë‹¤.</p>\n<p>async í‚¤ì›Œë“œ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¼, í˜¸ì¶œ, ë°°ì¹˜ ê°€ëŠ¥í•˜ë‹¤.</p>\n<h4 id=\"1-ë¹„ë™ê¸°-ìŠ¤íŠ¸ë¦¼-async-for-astream\" style=\"position:relative;\"><a href=\"#1-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%8A%A4%ED%8A%B8%EB%A6%BC-async-for-astream\" aria-label=\"1 ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¼ async for astream permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¼: async for, astream()</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">for</span> token <span class=\"token keyword\">in</span> chain<span class=\"token punctuation\">.</span>astream<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Youtube\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> flush<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4 id=\"2-ë¹„ë™ê¸°-í˜¸ì¶œ-ainvoke\" style=\"position:relative;\"><a href=\"#2-%EB%B9%84%EB%8F%99%EA%B8%B0-%ED%98%B8%EC%B6%9C-ainvoke\" aria-label=\"2 ë¹„ë™ê¸° í˜¸ì¶œ ainvoke permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ë¹„ë™ê¸° í˜¸ì¶œ: ainvoke()</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># ë¹„ë™ê¸° í˜¸ì¶œ ì²´ì¸ ê°ì²´ ìƒì„±</span>\nmy_process <span class=\"token operator\">=</span> chain<span class=\"token punctuation\">.</span>ainvoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Youtube\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ë©° í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ í›„ ì¶œë ¥ë¨</span>\n<span class=\"token keyword\">await</span> my_process</code></pre></div>\n<p><strong>ainvokeëŠ” ë¹„ë™ê¸° ì²´ì¸ ê°ì²´ ìƒì„± í›„, await í‚¤ì›Œë“œ í˜¸ì¶œë¡œ ë‹µë³€ì„ ìƒì„±í•œë‹¤.</strong></p>\n<h4 id=\"3-ë¹„ë™ê¸°-ë°°ì¹˜-abatch\" style=\"position:relative;\"><a href=\"#3-%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B0%B0%EC%B9%98-abatch\" aria-label=\"3 ë¹„ë™ê¸° ë°°ì¹˜ abatch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ë¹„ë™ê¸° ë°°ì¹˜: abatch()</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># ë¹„ë™ê¸° ë°°ì¹˜ ì²´ì¸ ê°ì²´ ìƒì„±</span>\nmy_abatch_process <span class=\"token operator\">=</span> chain<span class=\"token punctuation\">.</span>abatch<span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"YouTube\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Instagram\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Facebook\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ë¹„ë™ê¸°ì ìœ¼ë¡œ ë°°ì¹˜ë¥¼ ì¼ê´„ ì²˜ë¦¬í•˜ë©° í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ í›„ </span>\n<span class=\"token keyword\">await</span> my_abatch_process\n<span class=\"token triple-quoted-string string\">\"\"\" ì¶œë ¥:\n['YouTubeëŠ” ì˜¨ë¼ì¸ ë™ì˜ìƒ ê³µìœ  í”Œë«í¼ìœ¼ë¡œ, ì‚¬ìš©ìë“¤ì´ ë™ì˜ìƒì„ ì—…ë¡œë“œí•˜ê³  ì‹œì²­í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ì´ë‹¤. ë¨¹ë°©, ê²Œì„ í”Œë ˆì´, ë·°í‹° ê´€ë ¨ ì½˜í…ì¸  ë“± ë‹¤ì–‘í•œ ì£¼ì œì˜ ë™ì˜ìƒì„ ì œê³µí•˜ë©°, ìˆ˜ë§ì€ ìœ ì €ë“¤ì´ ì´ìš©í•˜ê³  ìˆë‹¤. ìœ ëª… ì¸í”Œë£¨ì–¸ì„œë‚˜ í¬ë¦¬ì—ì´í„°ë“¤ì´ YouTubeë¥¼ í†µí•´ ìˆ˜ìµì„ ì°½ì¶œí•˜ê³ , ì „ ì„¸ê³„ì ìœ¼ë¡œ ì¸ê¸°ë¥¼ ëŒê³  ìˆë‹¤.',\n 'ì¸ìŠ¤íƒ€ê·¸ë¨ì€ ì‚¬ì§„ê³¼ ë™ì˜ìƒì„ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì†Œì…œë¯¸ë””ì–´ í”Œë«í¼ì´ë‹¤. ì‚¬ìš©ìë“¤ì€ íŒ”ë¡œì›Œë“¤ê³¼ ì†Œí†µí•˜ë©° ì¼ìƒ ì†ì˜ ìˆœê°„ë“¤ì„ ê³µìœ í•  ìˆ˜ ìˆë‹¤. ë˜í•œ í•´ì‹œíƒœê·¸ë¥¼ í†µí•´ ê´€ì‹¬ì‚¬ë‚˜ ì£¼ì œì— ë§ëŠ” ì½˜í…ì¸ ë¥¼ ì°¾ì„ ìˆ˜ë„ ìˆë‹¤.',\n 'Facebookì€ ì†Œì…œ ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ë¡œ, ì‚¬ìš©ìë“¤ì´ ê¸€ì„ ê²Œì‹œí•˜ê³  ì‚¬ì§„ì´ë‚˜ ë™ì˜ìƒì„ ê³µìœ í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ì…ë‹ˆë‹¤. ì „ ì„¸ê³„ì ìœ¼ë¡œ ë§ì€ ì‚¬ëŒë“¤ì´ ê°€ì…í•´ ì‚¬ìš©í•˜ë©°, ì¹œêµ¬ë“¤ì´ë‚˜ ê°€ì¡±ê³¼ ì†Œí†µí•˜ê³  ì†Œì…œ ë¯¸ë””ì–´ë¥¼ í†µí•´ ì •ë³´ë¥¼ ê³µìœ í•©ë‹ˆë‹¤. ë˜í•œ ê´‘ê³ ë„ í™œë°œíˆ ì§„í–‰ë˜ì–´ ìƒí’ˆì´ë‚˜ ì„œë¹„ìŠ¤ë¥¼ í™ë³´í•˜ëŠ”ë° ì´ìš©ë©ë‹ˆë‹¤.']\n\"\"\"</span></code></pre></div>\n<p><strong>ë¹„ë™ê¸°ì ìœ¼ë¡œ ê° ë°°ì¹˜ë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë™ì‹œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©°, í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ í›„ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶œë ¥í•œë‹¤.</strong><br>ì´ë•Œ, ê²°ê³¼ëŠ” ë±‰ì–´ ë‚´ê³  ì–´ë””ì— ì €ì¥ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤!!</p>\n<blockquote>\n<h3 id=\"ê¹¨ì•Œ-tip\" style=\"position:relative;\"><a href=\"#%EA%B9%A8%EC%95%8C-tip\" aria-label=\"ê¹¨ì•Œ tip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ê¹¨ì•Œ Tip</h3>\n<p>ê·¸ë˜ì„œ!! â€˜ë³€ìˆ˜ = await ë¹„ë™ê¸° ë°°ì¹˜ ì²´ì¸ ê°ì²´â€™ë¡œ ê²°ê³¼ë¥¼ ë°›ì•„ ë†“ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">my_abatch_process <span class=\"token operator\">=</span> chain<span class=\"token punctuation\">.</span>abatch<span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"YouTube\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Instagram\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Facebook\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span>\n\nresult <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> my_abatch_process\nresult</code></pre></div>\n</blockquote>\n<p>Â </p>\n<p>Â </p>\n<h2 id=\"runnable-interface\" style=\"position:relative;\"><a href=\"#runnable-interface\" aria-label=\"runnable interface permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Runnable Interface</h2>\n<hr>\n<p><strong>Runnable</strong>ì€ ì±„íŒ… ëª¨ë¸, LLM, í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿, ì¶œë ¥ íŒŒì„œ, ê²€ìƒ‰ê¸° ë“± <strong>ì…ë ¥ì„ ë°›ì•„ ì‹¤í–‰ ê°€ëŠ¥í•œ LangChainì˜ ê¸°ë³¸ êµ¬ì„±ìš”ì†Œ</strong>ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>\n<p>ì´ëŸ¬í•œ Runnableë“¤ì„ ìˆœì°¨ ë˜ëŠ” ë³‘ë ¬ë¡œ ì—°ê²°í•´ í•˜ë‚˜ì˜ ì‹¤í–‰ íë¦„ìœ¼ë¡œ êµ¬ì„±í•œ ê²ƒì„ <strong>Chain</strong>ì´ë¼ê³  í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h3 id=\"runnable-í”„ë¡œí† ì½œ\" style=\"position:relative;\"><a href=\"#runnable-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C\" aria-label=\"runnable í”„ë¡œí† ì½œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Runnable í”„ë¡œí† ì½œ</h3>\n<p><strong>Runnable í”„ë¡œí† ì½œ</strong>ì€<br>\nLangChainì—ì„œ **ëª¨ë“  ì‹¤í–‰ ê°€ëŠ¥í•œ êµ¬ì„±ìš”ì†Œê°€ ë”°ë¼ì•¼ í•˜ëŠ” ê³µí†µ ì‹¤í–‰ ê·œì•½(interface)**ì…ë‹ˆë‹¤.</p>\n<blockquote>\n<p>ì¦‰,\n<strong>â€œì…ë ¥ì„ ë°›ì•„ ì‹¤í–‰í•˜ê³ , ì¶œë ¥ì„ ë°˜í™˜í•˜ëŠ” ë°©ë²•ì„ í‘œì¤€í™”í•œ ì•½ì†â€</strong></p>\n</blockquote>\n<p>Â </p>\n<p>LangChainì— ì„œë¡œ ì„±ê²©ì´ ì™„ì „íˆ ë‹¤ë¥¸ êµ¬ì„±ìš”ì†Œë“¤ì´</p>\n<ol>\n<li>ì‹¤í–‰ ë°©ì‹ì´ í†µì¼ë˜ì–´ì•¼ í•˜ê³ </li>\n<li>ì…ë ¥/ì¶œë ¥ íë¦„ì´ ì˜ˆì¸¡ ê°€ëŠ¥í•´ì•¼ í•˜ë¯€ë¡œ</li>\n</ol>\n<p><strong>Runnable í”„ë¡œí† ì½œ</strong>ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>\n<p>Runnable í”„ë¡œí† ì½œ ë•ë¶„ì— <strong>ê°ì²´ë“¤ì€ ëª¨ë‘ ë™ì¼í•œ ì‹¤í–‰ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§‘ë‹ˆë‹¤.</strong></p>\n<table>\n<thead>\n<tr>\n<th>ë©”ì„œë“œ</th>\n<th>ì˜ë¯¸</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">invoke(input)</code></td>\n<td>ë‹¨ì¼ ì…ë ¥ â†’ ë‹¨ì¼ ì¶œë ¥</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">batch(inputs)</code></td>\n<td>ì—¬ëŸ¬ ì…ë ¥ â†’ ì—¬ëŸ¬ ì¶œë ¥</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">stream(input)</code></td>\n<td>ì¶œë ¥ ìŠ¤íŠ¸ë¦¬ë°</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">astream(input)</code></td>\n<td>ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¬ë°</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">ainvoke(input)</code></td>\n<td>ë¹„ë™ê¸° ì‹¤í–‰</td>\n</tr>\n</tbody>\n</table>\n<p>Â </p>\n<p>ì¦‰,</p>\n<p><strong>LLMë„ Runnable</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">llm<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token string\">\"2+3ì€?\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>PromptTemplateë„ Runnable</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">prompt<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"question\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2+3ì€?\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>Retrieverë„ Runnable</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">retriever<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token string\">\"2+3\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì „ë¶€ <code class=\"language-text\">invoke()</code>ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤ëŠ” ë§ì…ë‹ˆë‹¤.</p>\n<p>ì°¸ê³ ë¡œ Chainë„ ê·¸ ìì²´ê°€ Runnableì´ë¼ ë™ì¼í•œ ì‹¤í–‰ ì¸í„°í˜ì´ìŠ¤ë¡œ í˜¸ì¶œ ê°€ëŠ¥í•©ë‹ˆë‹¤. (ì‰¿ğŸ¤« Chainì´ë¼ëŠ” Runnableì„ ë³‘ë ¬ë¡œ ì—°ê²° ê°€ëŠ¥í•œë°, ê·¸ê²ƒë„ ê°€ëŠ¥í•¨~)</p>\n<p>Â </p>\n<p>ê²°êµ­, Runnableì˜ í•µì‹¬ ì² í•™ì€</p>\n<blockquote>\n<p>â€œë¬´ì—‡ì„ í•˜ëŠ”ê°€â€ê°€ ì•„ë‹ˆë¼\nâ€œì–´ë–»ê²Œ ì‹¤í–‰ë˜ëŠ”ê°€â€ë¥¼ í†µì¼í•œë‹¤</p>\n</blockquote>\n<p>Â </p>\n<p>ì´í•´ ì™„.ğŸ§âœ¨</p>\n<p>Â </p>\n<p>Â </p>\n<h3 id=\"ë°ì´í„°-ì „ë‹¬-ë°©ë²•\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%84%EB%8B%AC-%EB%B0%A9%EB%B2%95\" aria-label=\"ë°ì´í„° ì „ë‹¬ ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë°ì´í„° ì „ë‹¬ ë°©ë²•</h3>\n<p>LangChainì—ì„œ Runnableë“¤ì„ ì—°ê²°í•  ë•ŒëŠ”</p>\n<ul>\n<li>ì• Runnableì˜ <strong>ì¶œë ¥ í˜•íƒœ</strong></li>\n<li>ë‹¤ìŒ Runnableì´ <strong>ê¸°ëŒ€í•˜ëŠ” ì…ë ¥ í˜•íƒœ</strong></li>\n</ul>\n<p>ë¥¼ ë§ì¶°ì•¼ í•˜ê³ , ì´ë¥¼ ìœ„í•´ <strong>ë°ì´í„°ë¥¼ ì „ë‹¬Â·ë³€í˜•í•˜ëŠ” ì—¬ëŸ¬ ë°©ë²•</strong>ì´ ì¡´ì¬í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h4 id=\"1-ê°’-ì „ë‹¬-runnablepassthrough\" style=\"position:relative;\"><a href=\"#1-%EA%B0%92-%EC%A0%84%EB%8B%AC-runnablepassthrough\" aria-label=\"1 ê°’ ì „ë‹¬ runnablepassthrough permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ê°’ ì „ë‹¬: RunnablePassthrough</h4>\n<p>RunnablePassthroughëŠ” ê°’ì„ ê·¸ëŒ€ë¡œ ì „ë‹¬í•´ì£¼ëŠ” ì¹œêµ¬ì…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>runnables <span class=\"token keyword\">import</span> RunnablePassthrough\n\nRunnablePassthrough<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># ì¶œë ¥: {\"num\": 10}</span></code></pre></div>\n<p>ì´ë ‡ê²Œ RunnablePassthrough()ì—ì„œ invoke ë©”ì„œë“œ í˜¸ì¶œí•˜ë©´ ì…ë ¥ê°’ ê·¸ëŒ€ë¡œ ì¶œë ¥ë©ë‹ˆë‹¤.<br>ì¼ë°˜ì ìœ¼ë¡œ invoke() í†µí•´ Runnable ì‹¤í–‰í•  ë•ŒëŠ” ì‚¬ìš©ì ì…ë ¥ì€ <strong>ë”•ì…”ë„ˆë¦¬ í˜•íƒœ</strong>ë¡œ ì „ë‹¬í•˜ì–ì•„ìš”?</p>\n<p><strong>ì‚¬ìš©ì ì…ë ¥ì„ ë”•ì…”ë„ˆë¦¬ê°€ ì•„ë‹Œ â€˜ì…ë ¥ ë³€ìˆ˜ì˜ ê°’â€™ë§Œ ë°›ê³ , RunnablePassthroughë¥¼ í†µí•´ì„œ chain ë‚´ë¶€ì—ì„œ ì…ë ¥(ë”•ì…”ë„ˆë¦¬ í˜•íƒœ) í‚¤ì˜ ê°’ìœ¼ë¡œ ê³§ë°”ë¡œ ë„£ì–´ì¤„ ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># chainì— ë”•ì…”ë„ˆë¦¬ {ì…ë ¥ ë³€ìˆ˜ëª…: RunnablePassthrough()}ë¥¼ ë„£ê³  ì—°ê²°í•´ì¤Œ</span>\nrunnable_chain <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">:</span> RunnablePassthrough<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> prompt <span class=\"token operator\">|</span> ChatOpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ì‚¬ìš©ì ì…ë ¥ì€ ì…ë ¥ ë³€ìˆ˜ì˜ 'ê°’'ë§Œ ë°›ìŒ</span>\nrunnable_chain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>ê·¸ëŸ¼ ì´ê²ƒì˜ ì¥ì ì´ ë­ëƒ?</strong><br><strong>=> ì²´ì¸ ì„¤ê³„í•  ë•Œ  ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ë³€ìˆ˜ë¥¼ ë¯¸ë¦¬ ë‹¤ ë„£ì–´ ë‘ê³ , ì…ë ¥ ë³€ìˆ˜ ë„£ê³  í˜¸ì¶œí•  ë•ŒëŠ” ë³€ìˆ˜ëª… ê¸°ì–µ ëª»í•´ë„ ê°’ë§Œ ë„£ì„ ìˆ˜ ìˆìŒ!!</strong></p>\n<blockquote>\n<h3 id=\"ê¹¨ì•Œ-tip-1\" style=\"position:relative;\"><a href=\"#%EA%B9%A8%EC%95%8C-tip-1\" aria-label=\"ê¹¨ì•Œ tip 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ê¹¨ì•Œ Tip</h3>\n<p><strong>RunnablePassthrough.assign</strong>()ì„ ì´ìš©í•´ì„œ RunnablePassthroughì˜ <strong>ì…ë ¥ key/valu</strong>eì™€ <strong>ìƒˆë¡­ê²Œ í• ë‹¹í•  key/valueë¥¼ í†µí•©í•  ìˆ˜ ìˆë‹¤.</strong><br>\n=> <strong>RunnablePassthrough.assign(ìƒˆë¡­ê²Œ í• ë‹¹í•  keyì´ë¦„=Runnable/lambda í•¨ìˆ˜).invoke({ì…ë ¥ key: value})ì„ ì´ìš©í•˜ë©´ ëœë‹¤.</strong></p>\n<p><strong>ì¦‰, ì…ë ¥ì€ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¤ë©´ì„œ assignì„ í†µí•´ ìƒˆë¡œìš´ key/valueë„ ê°€ì ¸ì™€ ì¶œë ¥í•œë‹¤.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># \"RunnablePassthrough.assign(new_num=lambda x: x[\"num\"] * 3)\"ì— ì…ë ¥ {\"num\": 1}ì„ ë„£ìŒ</span>\n<span class=\"token comment\"># ì…ë ¥ {\"num\": 1} ìì²´ê°€ xë¡œ ë“¤ì–´ê° (x={\"num\": 1})</span>\n<span class=\"token comment\"># x[\"num\"] * 3 ê²°ê³¼ë¥¼ new_num í‚¤ì˜ ê°’ì— ë„£ì–´ ìƒˆë¡œìš´ key/value ë§Œë“¦</span>\n<span class=\"token comment\"># ì…ë ¥ì€ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¤ë©´ì„œ assignì„ í†µí•´ ìƒˆë¡œìš´ key/valueë„ ê°€ì ¸ì™€ ì¶œë ¥í•œë‹¤.</span>\n<span class=\"token punctuation\">(</span>RunnablePassthrough<span class=\"token punctuation\">.</span>assign<span class=\"token punctuation\">(</span>new_num<span class=\"token operator\">=</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># ì¶œë ¥: {'num': 1, 'new_num': 3}</span></code></pre></div>\n</blockquote>\n<p>Â </p>\n<h3 id=\"2-runnable-ë³‘ë ¬-ì—°ê²°-runnableparallel\" style=\"position:relative;\"><a href=\"#2-runnable-%EB%B3%91%EB%A0%AC-%EC%97%B0%EA%B2%B0-runnableparallel\" aria-label=\"2 runnable ë³‘ë ¬ ì—°ê²° runnableparallel permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Runnable ë³‘ë ¬ ì—°ê²°: RunnableParallel</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>runnables <span class=\"token keyword\">import</span> RunnableParallel\n<span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> PromptTemplate\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>output_parsers <span class=\"token keyword\">import</span> StrOutputParser\n\nmodel <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># {country} ì˜ ìˆ˜ë„ë¥¼ ë¬¼ì–´ë³´ëŠ” ì²´ì¸ì„ ìƒì„±í•©ë‹ˆë‹¤.</span>\nchain1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country} ì˜ ìˆ˜ë„ëŠ” ì–´ë””ì•¼?\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">|</span> model\n    <span class=\"token operator\">|</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># {country} ì˜ ë©´ì ì„ ë¬¼ì–´ë³´ëŠ” ì²´ì¸ì„ ìƒì„±í•©ë‹ˆë‹¤.</span>\nchain2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country} ì˜ ë©´ì ì€ ì–¼ë§ˆì•¼?\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">|</span> model\n    <span class=\"token operator\">|</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ìœ„ì˜ 2ê°œ ì²´ì¸ì„ ë™ì‹œì— ìƒì„±í•˜ëŠ” ë³‘ë ¬ ì‹¤í–‰ ì²´ì¸ì„ ìƒì„±í•©ë‹ˆë‹¤.</span>\ncombined <span class=\"token operator\">=</span> RunnableParallel<span class=\"token punctuation\">(</span>capital<span class=\"token operator\">=</span>chain1<span class=\"token punctuation\">,</span> area<span class=\"token operator\">=</span>chain2<span class=\"token punctuation\">)</span>\ncombined<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"country\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ëŒ€í•œë¯¼êµ­\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># ì¶œë ¥: {'capital': 'ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ëŠ” ì„œìš¸ì´ì—ìš”.', 'area': 'ëŒ€í•œë¯¼êµ­ì˜ ì´ ë©´ì ì€ ì•½ 100,363kmÂ² ì…ë‹ˆë‹¤.'}</span></code></pre></div>\n<p>ê° chain ê°ì²´ë¥¼ ìƒì„±í•œ í›„,<br><strong>RunnableParallelë¥¼ ì´ìš©í•´ chainë“¤ì„ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ë³‘ë ¬ ì‹¤í–‰ ì²´ì¸ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong> (ì •í™•íˆ ë§í•˜ë©´ Runnableì¸ chain ê°ì²´ë¥¼ ë³‘ë ¬ ì—°ê²° ê°€ëŠ¥í•©ë‹ˆë‹¤.)</p>\n<p>ê·¸ë¦¬ê³ ,<br><strong>RunnableParallel ì•ˆì— capitalê³¼ areaëŠ” ê° ì²´ì¸ì˜ ì‘ë‹µ ê²°ê³¼ë¥¼ ë°›ëŠ” ë³€ìˆ˜ëª…ì…ë‹ˆë‹¤.</strong> <strong>ê·¸ capitalê³¼ areaì„ í‚¤ë¡œ ê°–ëŠ” ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ìµœì¢… ê²°ê³¼ë¥¼ ë‚´ì–´ ì¤ë‹ˆë‹¤.</strong> (ì´ë ‡ê²Œ ì²´ì¸ ê°„ ë°ì´í„° ì „ë‹¬ë„ ê°€ëŠ¥í•œ ê²ë‹ˆë‹¤~)</p>\n<p>ê²°ê³¼ë¥¼ ë³´ë©´,<br>ê° ì²´ì¸ì„ <strong>ë³‘ë ¬ë¡œ ì‹¤í–‰í•œ í›„, ê° ì‘ë‹µ ê²°ê³¼ë¥¼ capitalê³¼ areaì˜ í‚¤ì˜ ê°’ìœ¼ë¡œ ë„£ì–´ ë”•ì…”ë„ˆë¦¬ë¥¼ ë°˜í™˜</strong>í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<h3 id=\"ê¹¨ì•Œ-tip-2\" style=\"position:relative;\"><a href=\"#%EA%B9%A8%EC%95%8C-tip-2\" aria-label=\"ê¹¨ì•Œ tip 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ê¹¨ì•Œ Tip</h3>\n<p><strong>Q1. ë³‘ë ¬ë¡œ ì—°ê²°í•œ Chainë“¤ì˜ input_variablesì´ ë‹¤ë¥´ë‹¤ë©´?</strong><br>\n=> í˜¸ì¶œ ë©”ì„œë“œ(ì—¬ê¸°ì„œ invoke)ì˜ ì…ë ¥ê°’ì— <strong>í•˜ë‚˜ì˜ ë”•ì…”ë„ˆë¦¬ì— input_variables ê°’ë“¤ì„ ëª¨ë‘ ë„£ì–´ì£¼ë©´ ëœë‹¤!!</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># input_variables: country2</span>\nchain1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country1} ì˜ ìˆ˜ë„ëŠ” ì–´ë””ì•¼?\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token operator\">|</span> model\n <span class=\"token operator\">|</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># input_variables: country2</span>\nchain2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country2} ì˜ ë©´ì ì€ ì–¼ë§ˆì•¼?\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token operator\">|</span> model\n <span class=\"token operator\">|</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\ncombined <span class=\"token operator\">=</span> RunnableParallel<span class=\"token punctuation\">(</span>capital<span class=\"token operator\">=</span>chain1<span class=\"token punctuation\">,</span> area<span class=\"token operator\">=</span>chain2<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># â­ï¸ í•˜ë‚˜ì˜ ë”•ì…”ë„ˆë¦¬ì— input_variables ê°’ì„ ë„£ì–´ì¤Œ â­ï¸</span>\ncombined<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ëŒ€í•œë¯¼êµ­\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"country2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ë¯¸êµ­\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Â </p>\n<p><strong>Q2. ë³‘ë ¬ë¡œ ë¬¶ì€ Chainë“¤ì„ ë°°ì¹˜ ê°€ëŠ¥í•œê°€?</strong><br>\n=> <del>ìŒ‰ê°€ëŠ¥</del> ë§¤ìš° ê°€ëŠ¥. <strong>RunnableParallel() ê°ì²´ ë˜í•œ Runnableì´ê¸° ë•Œë¬¸ì— ë™ì¼í•œ batch ì‹¤í–‰ ì¸í„°í˜ì´ìŠ¤ë¡œ í˜¸ì¶œ ê°€ëŠ¥í•©ë‹ˆë‹¤ìš”.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># input_variables: country2</span>\nchain1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country1} ì˜ ìˆ˜ë„ëŠ” ì–´ë””ì•¼?\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token operator\">|</span> model\n <span class=\"token operator\">|</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># input_variables: country2</span>\nchain2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country2} ì˜ ë©´ì ì€ ì–¼ë§ˆì•¼?\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token operator\">|</span> model\n <span class=\"token operator\">|</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\ncombined <span class=\"token operator\">=</span> RunnableParallel<span class=\"token punctuation\">(</span>capital<span class=\"token operator\">=</span>chain1<span class=\"token punctuation\">,</span> area<span class=\"token operator\">=</span>chain2<span class=\"token punctuation\">)</span>\ncombined<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ëŒ€í•œë¯¼êµ­\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"country2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ë¯¸êµ­\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ì¼ë³¸\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"country2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ì¤‘êµ­\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ìœ„ ì˜ˆì‹œëŠ” ì¢€ ë³µì¡í•´ ë³´ì´ëŠ”ë°</p>\n<ol>\n<li>ê° ë°°ì¹˜ì˜ ì²´ì¸ì˜ ê²°ê³¼ëŠ” capital, areaë¡œ ë°›ìœ¼ë©´ì„œ</li>\n<li>ê° ì²´ì¸ì˜ input_variablesëŠ” ì²«ë²ˆì§¸ ë°°ì¹˜ì—ì„œëŠ” ëŒ€í•œë¯¼êµ­, ë¯¸êµ­, ë‘ë²ˆì§¸ ë°°ì¹˜ì—ì„œëŠ” ì¼ë³¸, ì¤‘êµ­ì„ ë„£ì–´ì¤Œ</li>\n</ol>\n<p>ê·¸ëŸ¼ ìµœì¢… ê²°ê³¼ëŠ” ì²«ë²ˆì§¸  <code class=\"language-text\">{\"country1\": \"ëŒ€í•œë¯¼êµ­\", \"country2\": \"ë¯¸êµ­\"}</code>ë¡œ ë„£ì€ ê²°ê³¼ì™€ ë‘ë²ˆì§¸  <code class=\"language-text\">{\"country1\": \"ì¼ë³¸\", \"country2\": \"ì¤‘êµ­\"}</code>ë¡œ ë„£ì€ ê²°ê³¼ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë¬¶ì€ ê²ƒì´ ë‚˜ì˜¤ê² ì£ ?<br>\nì¦‰, ìµœì¢… ì‘ë‹µ ê²°ê³¼ëŠ” capital, area í‚¤ì™€ ê°’ì„ ê°–ëŠ” ë”•ì…”ë„ˆë¦¬ 2ê°œë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë¬¶ì€ ê²ƒì´ë‹¤!</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># ì¶œë ¥</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">'capital'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ëŠ” ì„œìš¸ì…ë‹ˆë‹¤.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'area'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ëŒ€í•œë¯¼êµ­ì˜ ë©´ì ì€ ì•½ 100,363kmÂ² ì…ë‹ˆë‹¤.'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n <span class=\"token punctuation\">{</span><span class=\"token string\">'capital'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ë¯¸êµ­ì˜ ìˆ˜ë„ëŠ” ì›Œì‹±í„´ D.C.ì…ë‹ˆë‹¤.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'area'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ë¯¸êµ­ì˜ ë©´ì ì€ ëŒ€ëµ 9,833,520 ì œê³± í‚¬ë¡œë¯¸í„°ì´ë©°, ì´ëŠ” ì„¸ê³„ì—ì„œ ì„¸ ë²ˆì§¸ë¡œ ë„“ì€ êµ­ê°€ì…ë‹ˆë‹¤.'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>ì•„, ì°¸ê³ ë¡œ ë³‘ë ¬ì²˜ë¦¬ëŠ” ê° ë°°ì¹˜ì—ì„œ <strong>chain ê²°ê³¼ ë°›ì•„ì˜¤ëŠ” ê²ƒì„ ë³‘ë ¬ë¡œ ì²˜ë¦¬</strong>ë˜ëŠ” ê²ƒì´ë‹ˆê¹Œ í—·ê°ˆë¦¬ì§€ ì•Šë„ë¡.</p>\n<p>Â </p>\n<p><strong>Q3. Chainì— RunnablePassthrough()ë¥¼ ì´ìš©í•´ ì§ì ‘ ë”•ì…”ë„ˆë¦¬ë¥¼ ë§Œë“¤ì—ˆëŠ”ë°, chainë“¤ì„ ë³‘ë ¬ë¡œ RunnableParallel()ë¡œ ë³‘ë ¬ë¡œ ì—°ê²°í•œë‹¤ë©´ ì…ë ¥ ë³€ìˆ˜ê°€ ì„œë¡œ ë‹¤ë¥¼ ë•ŒëŠ” ì–´ë–»ê²Œ ì „ë‹¬í•´ì•¼ í•˜ëŠ” ê²ƒì¸ê°€?</strong> (ì°¸ê³ ë¡œ ì…ë ¥ë³€ìˆ˜ ì„œë¡œ ê°™ìœ¼ë©´ ê·¸ëƒ¥ ê°’ë§Œ ë„£ì–´ë„ ë©ë‹ˆë‹¤.)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">chain1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">:</span> RunnablePassthrough<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">|</span> PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country1} ì˜ ìˆ˜ë„ëŠ”?\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">|</span> ChatOpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\nchain2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"country2\"</span><span class=\"token punctuation\">:</span> RunnablePassthrough<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">|</span> PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country2} ì˜ ë©´ì ì€?\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">|</span> ChatOpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\ncombined_chain <span class=\"token operator\">=</span> RunnableParallel<span class=\"token punctuation\">(</span>capital<span class=\"token operator\">=</span>chain1<span class=\"token punctuation\">,</span> area<span class=\"token operator\">=</span>chain2<span class=\"token punctuation\">)</span>\ncombined_chain<span class=\"token punctuation\">.</span>invoke<span class=\"token comment\">#(\"ì—¬ê¸°ì— ë¬´ì—‡ì„ ë„£ì–´ì•¼ í•˜ëŠ” ê²ƒì¸ê°€?\")</span></code></pre></div>\n<p>(âŒ) combined_chain.invoke({â€œcountry1â€: â€œëŒ€í•œë¯¼êµ­â€, â€œcountry2â€: â€œëŒ€í•œë¯¼êµ­â€})<br>\n(âŒ) combined_chain.invoke(â€œëŒ€í•œë¯¼êµ­â€)<br>\nì…ë ¥ ë³€ìˆ˜ëª…ì´ ë‹¬ë¼ì„œ ì´ëŸ° ì‹ìœ¼ë¡œëŠ” ë‹¤ ì•ˆ ë©ë‹ˆë‹¤.</p>\n<p>ë§ˆìŒ í¸íˆ í•˜ëŠ” ë°©ë²•ì€ chainì„ ì¢€ ëœ¯ì–´ ê³ ì¹˜ëŠ” ê²ƒ.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain<span class=\"token punctuation\">.</span>schema<span class=\"token punctuation\">.</span>runnable <span class=\"token keyword\">import</span> RunnableLambda\n\nchain1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\"># ë°©ë²•: RunnableLambdaë¥¼ ì‚¬ìš©í•´ country1 í‚¤ì— ê°’ì„ ë§¤í•‘</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">:</span> RunnableLambda<span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">|</span> PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country1} ì˜ ìˆ˜ë„ëŠ”?\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">|</span> ChatOpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\nchain2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\"># ë°©ë²•: RunnableLambdaë¥¼ ì‚¬ìš©í•´ country2 í‚¤ì— ê°’ì„ ë§¤í•‘</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"country2\"</span><span class=\"token punctuation\">:</span> RunnableLambda<span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"country2\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">|</span> PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{country2} ì˜ ë©´ì ì€?\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">|</span> ChatOpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\ncombined_chain <span class=\"token operator\">=</span> RunnableParallel<span class=\"token punctuation\">(</span>capital<span class=\"token operator\">=</span>chain1<span class=\"token punctuation\">,</span> area<span class=\"token operator\">=</span>chain2<span class=\"token punctuation\">)</span>\n\ncombined_chain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\"># ë°©ë²•: country1, country2 í‚¤ì— ê°ê° ê°’ì„ ì „ë‹¬</span>\n        <span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ëŒ€í•œë¯¼êµ­\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"country2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ëŒ€í•œë¯¼êµ­\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>ì•„ë˜ì—ì„œ ë°°ìš¸ RunnableLambda() í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ì§ì ‘ ì…ë ¥ ê°’ì—ì„œ êº¼ë‚´ì–´ ì“°ë©´ ë©ë‹ˆë‹¤.</strong></p>\n<p>êµ³ğŸ‘ğŸ»</p>\n</blockquote>\n<p>Â </p>\n<p><strong>Q. Runnable ë³‘ë ¬ ì—°ê²°, RunnablePassthrough(), RunnablePassthrough.assign() ë©”ì„œë“œ, ì¼ë°˜ lambda í•¨ìˆ˜ì— ê´€í•œ ë³µì¡í•œ ì˜ˆì‹œì˜ ê²°ê³¼ë¥¼ ì˜ˆìƒí•´ë´…ì‹œë‹¤.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>runnables <span class=\"token keyword\">import</span> RunnableParallel\n\nrunnable <span class=\"token operator\">=</span> RunnableParallel<span class=\"token punctuation\">(</span>\n    passed<span class=\"token operator\">=</span>RunnablePassthrough<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    extra<span class=\"token operator\">=</span>RunnablePassthrough<span class=\"token punctuation\">.</span>assign<span class=\"token punctuation\">(</span>mult<span class=\"token operator\">=</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    modified<span class=\"token operator\">=</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\nrunnable<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ol>\n<li>ìµœì¢… ì‘ë‹µ ê²°ê³¼ëŠ” RunnableParallel ë‚´ë¶€ë¥¼ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ì—¬ ê° ê²°ê³¼ë¥¼ passed, extra, modified í‚¤ì˜ ê°’ìœ¼ë¡œ í•˜ëŠ” ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ë°˜í™˜í•œë‹¤.</li>\n<li><code class=\"language-text\">passed</code>: ì…ë ¥  <code class=\"language-text\">{\"num\": 1}</code> ê·¸ëŒ€ë¡œ ë°˜í™˜í•¨</li>\n<li><code class=\"language-text\">extra</code>: ì…ë ¥  <code class=\"language-text\">{\"num\": 1}</code>ë¥¼ xë¡œ ë°›ì•„ì™€ì„œ numì˜ ê°’ 1ì— 3ì„ ê³±í•œ ê°’ì„ multì— â€˜ì¶”ê°€ í• ë‹¹â€™í•˜ì—¬ ê²°ê³¼ <code class=\"language-text\">{\"num\": 1, \"mult\": 3}</code>ì„ ë°˜í™˜í•¨</li>\n<li><code class=\"language-text\">modified</code>: ì…ë ¥  <code class=\"language-text\">{\"num\": 1}</code>ë¥¼ xë¡œ ë°›ì•„ì™€ì„œ numì˜ ê°’ 1ì— 1ì„ ë”í•˜ì—¬ ë°˜í™˜í•¨</li>\n</ol>\n<p>ê·¸ë˜ì„œ ìµœì¢… ê²°ê³¼ëŠ” <code class=\"language-text\">{'passed': {'num': 1}, 'extra': {'num': 1, 'mult': 3}, 'modified': 2}</code>ê°€ ë‚˜ì˜µë‹ˆë‹¤.</p>\n<p>Â </p>\n<h3 id=\"3-ì‚¬ìš©ì-ì •ì˜-í•¨ìˆ˜-ë§¤í•‘-runnablelambda\" style=\"position:relative;\"><a href=\"#3-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%95%EC%9D%98-%ED%95%A8%EC%88%98-%EB%A7%A4%ED%95%91-runnablelambda\" aria-label=\"3 ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ ë§¤í•‘ runnablelambda permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ ë§¤í•‘: RunnableLambda</h3>\n<p>í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ í›„ì— í”„ë¡¬í”„íŠ¸ì— ë„£ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. RunnableLambda(ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜)ë¡œ ì´ìš©í•˜ë©´ ë©ë‹ˆë‹¤.</p>\n<p>ëŒ€ì¶©, ë¨¸ë¦¿ ì†ìœ¼ë¡œ ê·¸ë ¤ë³´ìë©´</p>\n<blockquote>\n<p>invoke(ì…ë ¥ ë³€ìˆ˜) -> RunnableLambda(ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜)ì„ í†µí•´ í”„ë¡¬í”„íŠ¸ì— ì „ë‹¬</p>\n</blockquote>\n<p>ì´ëŸ° ì‹ì´ ë  ê²ƒ ê°™ì€ë°, ì´ë•Œ <strong>ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ëŠ” ì •ë§ í•¨ìˆ˜ ì´ë¦„ë§Œ ì‘ì„±í•©ë‹ˆë‹¤.</strong></p>\n<p>ê·¸ë ‡ë‹¤ë©´,<br>\nì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ ì¦‰, í•¨ìˆ˜ê°€ ìˆë‹¤ëŠ” ê²ƒì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ìƒí™©ì´ ìˆì„ í…ë°, <strong>ì „ë‹¬í•˜ëŠ” ì…ë ¥ ë³€ìˆ˜ê°€ ë”•ì…”ë„ˆë¦¬ í˜•íƒœ</strong>ì¼ ë•ŒëŠ”</p>\n<ol>\n<li>ì§ì ‘ í‚¤ë¡œ ì ‘ê·¼í•˜ëŠ” ë°©ë²• ë¿ë§Œ ì•„ë‹ˆë¼</li>\n<li><strong>operator ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ itemgetter ëª¨ë“ˆì„ ì´ìš©í•˜ì—¬ ì ‘ê·¼í•˜ëŠ” ë°©ë²•</strong>ì´ ìˆìŠµë‹ˆë‹¤.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">chain <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">:</span> itemgetter<span class=\"token punctuation\">(</span><span class=\"token string\">\"word1\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> RunnableLambda<span class=\"token punctuation\">(</span>length_function<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"b\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"text1\"</span><span class=\"token punctuation\">:</span> itemgetter<span class=\"token punctuation\">(</span><span class=\"token string\">\"word1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"text2\"</span><span class=\"token punctuation\">:</span> itemgetter<span class=\"token punctuation\">(</span><span class=\"token string\">\"word2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">|</span> RunnableLambda<span class=\"token punctuation\">(</span>multiple_length_function<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">|</span> prompt\n    <span class=\"token operator\">|</span> model\n<span class=\"token punctuation\">)</span>\n\nchain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"word1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"word2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"world\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ìš”ëŸ° ëŠë‚Œìœ¼ë¡œ ê° ì…ë ¥ <code class=\"language-text\">{\"word1\": \"hello\", \"word2\": \"world\"}</code>ì—ì„œ <code class=\"language-text\">itemgetter(\"word1\")</code>, <code class=\"language-text\">itemgetter(\"word2\")</code>ì„ ì´ìš©í•´ì„œ ê° í‚¤ì˜ ê°’ì„ êº¼ë‚´ì–´ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p><strong>Q. ê·¸ëŸ¬ë©´ ê·¸ëƒ¥ ë”•ì…”ë„ˆë¦¬ì—ì„œ ì§ì ‘ í‚¤ ê°’ìœ¼ë¡œ ì ‘ê·¼í•˜ë©° ë˜ì§€, ì™œ itemgetter()ì„ ì´ìš©í•˜ë‚˜ìš”?</strong></p>\n<p>=> operator.itemgetter()ì„ ì‘ì„±í•˜ë©´, \"\"ë‚´ê°€ ì´ê²ƒì„ ë½‘ì•„ ì“¸ ê±°ë‹¤â€ë¼ëŠ” <strong>ëª…í™•ì„±</strong>ê³¼ ê°„ê²°í•¨ì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>\n</blockquote>\n<p>Â </p>\n<p>ê·¸ëŸ¬ë©´ ì…ë ¥ ë³€ìˆ˜ê°€ ì—¬ëŸ¬ ê°œëŠ”â€¦? <del>(ë”•ì…”ë„ˆë¦¬ 1ê°œì— ì—¬ëŸ¬ ê°œ ìˆëŠ” ê²ƒ ë§ê³ , ì§„ì§œ ì—¬ëŸ¬ ê°œ ë§í•˜ëŠ” ê²ƒì„)</del></p>\n<blockquote>\n<p><strong>Q. ì…ë ¥ ë³€ìˆ˜ê°€ ì—¬ëŸ¬ ê°œë©´ ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ì— ì–´ë–»ê²Œ ì „ë‹¬í•˜ëŠ” ê²ƒì¸ê°€?</strong></p>\n<p>=> ê²°ë¡ ë¶€í„° ë§í•˜ë©´, <strong>ì…ë ¥ ë³€ìˆ˜ëŠ” ë°˜ë“œì‹œ í•˜ë‚˜</strong>ì—¬ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>ì…ë ¥ ë³€ìˆ˜ê°€ 1ê°œë©´ ë§¤ê°œë³€ìˆ˜ë„ í•˜ë‚˜ì¼í…Œë‹ˆ ì ë‹¹íˆ ì˜ ë§¤ì¹­ë  ê²ƒ ê°™ì€ë°,<br>\nì…ë ¥ ë³€ìˆ˜ê°€ 2ê°œë©´ ì–´ë–»ê²Œ ë§¤ì¹­í•˜ë‚˜ ê±±ì •ì´ ëìŠµë‹ˆë‹¤.</p>\n<p>ê·¸ëŸ°ë°, ì—¬ê¸°ì„œ <strong>ì…ë ¥ ë³€ìˆ˜ëŠ” ë°˜ë“œì‹œ í•˜ë‚˜ì—¬ì•¼ í•˜ë©°,<br>ì—¬ëŸ¬ ê°œë¥¼ ì „ë‹¬í•˜ê³  ì‹¶ì„ ë• ë°˜ë“œì‹œ ë”•ì…”ë„ˆë¦¬ë¥¼ ì´ìš©í•´ì„œ ì „ë‹¬í•´ì¤€ í›„ ì´ë¥¼ ì „ë‹¬ ë°›ì•„ì„œ í‚¤ì˜ ê°’ì„ ì½ëŠ” í˜•íƒœë¡œ ì´ìš©</strong>í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ <strong>ì‚¬ìš©ì ì •ì˜í•¨ìˆ˜ì—ì„œ ë§¤ê°œë³€ìˆ˜ëŠ” ë³´í†µ ë”•ì…”ë„ˆë¦¬ 1ê°œ ë°›ëŠ” í˜•íƒœë¡œì¨ ë‹¤ë£¨ê²Œ ë©ë‹ˆë‹¤.</strong> (_dict !!)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> operator <span class=\"token keyword\">import</span> itemgetter\n\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> ChatPromptTemplate\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>runnables <span class=\"token keyword\">import</span> RunnableLambda\n<span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI\n\n\n<span class=\"token comment\"># ë¬¸ì¥ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">length_function</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ë‘ ë¬¸ì¥ì˜ ê¸¸ì´ë¥¼ ê³±í•œ ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">_multiple_length_function</span><span class=\"token punctuation\">(</span>text1<span class=\"token punctuation\">,</span> text2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>text1<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>text2<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># â­ï¸ ë”•ì…”ë„ˆë¦¬ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì˜¤ê¸° ë–„ë¬¸ì— _dictë¡œ ë°›ìŒ â­ï¸</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">multiple_length_function</span><span class=\"token punctuation\">(</span>_dict<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> _multiple_length_function<span class=\"token punctuation\">(</span>_dict<span class=\"token punctuation\">[</span><span class=\"token string\">\"text1\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> _dict<span class=\"token punctuation\">[</span><span class=\"token string\">\"text2\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n\nprompt <span class=\"token operator\">=</span> ChatPromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{a} + {b} ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\"</span><span class=\"token punctuation\">)</span>\nmodel <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nchain1 <span class=\"token operator\">=</span> prompt <span class=\"token operator\">|</span> model\n\nchain <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\"># ì…ë ¥ ë³€ìˆ˜ ë”•ì…”ë„ˆë¦¬ì—ì„œ ê°’ì„ êº¼ë‚´ì–´ ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ length_functionì— ì „ë‹¬</span>\n        <span class=\"token comment\"># â­ï¸ ì¦‰, length_functionì— word1ì˜ ê°’ 1ê°œë¥¼ ì „ë‹¬ â­ï¸</span>\n        <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">:</span> itemgetter<span class=\"token punctuation\">(</span><span class=\"token string\">\"word1\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> RunnableLambda<span class=\"token punctuation\">(</span>length_function<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"b\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"text1\"</span><span class=\"token punctuation\">:</span> itemgetter<span class=\"token punctuation\">(</span><span class=\"token string\">\"word1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"text2\"</span><span class=\"token punctuation\">:</span> itemgetter<span class=\"token punctuation\">(</span><span class=\"token string\">\"word2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token comment\"># â­ï¸ multiple_length_functionì— {\"text1\": itemgetter(\"word1\"), \"text2\": itemgetter(\"word2\")} 1ê°œë¥¼ ì „ë‹¬ â­ï¸</span>\n        <span class=\"token operator\">|</span> RunnableLambda<span class=\"token punctuation\">(</span>multiple_length_function<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">|</span> prompt\n    <span class=\"token operator\">|</span> model\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ì…ë ¥ë³€ìˆ˜: {\"word1\": \"hello\", \"word2\": \"world\"}</span>\nchain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"word1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"word2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"world\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n</blockquote>\n<p>Â </p>\n<blockquote>\n<h3 id=\"ê¹¨ì•Œ-tip-3\" style=\"position:relative;\"><a href=\"#%EA%B9%A8%EC%95%8C-tip-3\" aria-label=\"ê¹¨ì•Œ tip 3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ê¹¨ì•Œ Tip</h3>\n<p><strong>RunnableLambda ë‚´ë¶€ ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ë¥¼ invoke() ë©”ì„œë“œë¡œ í˜¸ì¶œ ì‹œ,<br>ì…ë ¥ ë³€ìˆ˜ê°€ ê·¸ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ê°’ì„ ì „ë‹¬í•´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ì‹¤ì œë¡œ ê·¸ í•¨ìˆ˜ì—ì„œ ì…ë ¥ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ì¨ì¤˜ì•¼ í•œë‹¤.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>output_parsers <span class=\"token keyword\">import</span> StrOutputParser\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> PromptTemplate\n<span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI\n<span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> datetime\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>runnables <span class=\"token keyword\">import</span> RunnableLambda<span class=\"token punctuation\">,</span> RunnablePassthrough\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_today</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token comment\"># ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ê°€ì ¸ì˜¤ê¸°</span>\n <span class=\"token keyword\">return</span> datetime<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">\"%b-%d\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ì¶œë ¥</span>\n<span class=\"token comment\"># print(get_today(None))</span>\n\n\n<span class=\"token comment\"># prompt ì™€ llm ì„ ìƒì„±í•©ë‹ˆë‹¤.</span>\nprompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span>\n <span class=\"token string\">\"{today} ê°€ ìƒì¼ì¸ ìœ ëª…ì¸ {n} ëª…ì„ ë‚˜ì—´í•˜ì„¸ìš”. ìƒë…„ì›”ì¼ì„ í‘œê¸°í•´ ì£¼ì„¸ìš”.\"</span>\n<span class=\"token punctuation\">)</span>\nllm <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>temperature<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> model_name<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-4.1-mini\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># chain ì„ ìƒì„±í•©ë‹ˆë‹¤.</span>\nchain <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n\n <span class=\"token punctuation\">{</span><span class=\"token string\">\"today\"</span><span class=\"token punctuation\">:</span> RunnableLambda<span class=\"token punctuation\">(</span>get_today<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"n\"</span><span class=\"token punctuation\">:</span> RunnablePassthrough<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n <span class=\"token operator\">|</span> prompt\n <span class=\"token operator\">|</span> llm\n <span class=\"token operator\">|</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>chain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ol>\n<li><code class=\"language-text\">chain.invoke(3)</code>ì—ì„œ 3ì„ <code class=\"language-text\">RunnableLambda(get_today)</code>ì—ì„œ ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ <code class=\"language-text\">get_today</code>ì— ì „ë‹¬í•œë‹¤.</li>\n<li><code class=\"language-text\">get_today</code>ëŠ” ê·¸ 3ì„ ì´ìš©í•˜ì§€ ì•Šë”ë¼ë„, ë§¤ê°œë³€ìˆ˜ë¥¼ ì‘ì„±í•´ì•¼ í•˜ë¯€ë¡œ <code class=\"language-text\">def get_today(a):</code> ë¼ê³  ì‘ì„±í•œë‹¤.</li>\n</ol>\n<p>(ì°¸ê³ ë¡œ get_today() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•ŒëŠ” ì…ë ¥ë³€ìˆ˜ì— Noneê³¼ ê°™ì´ ë§¤ê°œë³€ìˆ˜ ê°’ì„ ì¨ì¤˜ì•¼ í•œë‹¤.)</p>\n<p>LangSmithì—ì„œ ì§ì ‘ í™•ì¸í•´ë³´ë©´ ì´ëŸ° íë¦„ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABD0lEQVQoz5WSS07DMBRFuwIgjmPHn8T5QWijtqg0RR0wKCPECtj/Rg5KpHRCScvgSs/y9fF9z16EoiYLNWnqUMogYkUsNSqW6O5A+/nNdtXx3G1IfCAe9i9IiASpDAtnUrqmoi5qtLFED4LoXhDdCVJlyHwghIo8L0cNB/+CDlpUrz1fHy9s+z1P+zdCt8E0LbZdYkI1wuYAv4C79yOH04llf+Rx15N1a3TTYtoVOivIs2Icx7VkZ6CRkuA8IS/HFgdZ7TDKEIuERBmSJL0dqLRDp25MkRqPsRnOB6zLkVKPcxuAN7cshCSKLmswlGWDtf72hNcM3gecy88XzH2bWeBkUMr+75XnYFM9rad6Tj9dVf7M+TmMqQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"img 1\" title=\"img 1\" src=\"/static/98e0bb52d22267b2de807136aab5ce60/37523/img_1.png\" srcset=\"/static/98e0bb52d22267b2de807136aab5ce60/e9ff0/img_1.png 180w,\n/static/98e0bb52d22267b2de807136aab5ce60/f21e7/img_1.png 360w,\n/static/98e0bb52d22267b2de807136aab5ce60/37523/img_1.png 720w,\n/static/98e0bb52d22267b2de807136aab5ce60/302a4/img_1.png 1080w,\n/static/98e0bb52d22267b2de807136aab5ce60/07a9c/img_1.png 1440w,\n/static/98e0bb52d22267b2de807136aab5ce60/3d22e/img_1.png 2010w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 57.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABZElEQVQoz32SyW7CMBiE8wZAEi+xncVxSFgUIKBCKbSovVRqD7216vs/yFR2CQpiOXz6Y8saz4zjxbGGSgw4VyCEw/cJgoCg5zPMC4HvwwjD0QyLeQOlDUIujmeom91vwgQ8pSTWswrT8RSxNiCU/x8IKBiTkCpDmmjEcYYk0SeBW3hRmmNXxzBKQqkMjHAMer6DhAxFUSEM2YWrrrszwe3XB95+f7B8/0Qxa5AtH5DtX6APr5DTGjrNIWTi6qA0Os2WC0GzeUS53cHMGhSbLYZPz6j2B1RWsJog4tJFbUlTS44sM64GK9p16tGQuZiMRg5OI0RMILK3+wRJqsGYuIh6M7Lf6WXQMggdtjvrhrJzF/cexrv3YhYbUevCkedDF9WYEsYMz+K207t3o90vyzEWi5WjaVao6wVWqzUmk/qq65uC7R7nElImUCp1CBGf1raSq5HvCfrHTvv9wNH2a7n2b/4BWTgeSdGVbqIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"img 2\" title=\"img 2\" src=\"/static/33293e51d1c8b0b0e615d9c783f5abd0/37523/img_2.png\" srcset=\"/static/33293e51d1c8b0b0e615d9c783f5abd0/e9ff0/img_2.png 180w,\n/static/33293e51d1c8b0b0e615d9c783f5abd0/f21e7/img_2.png 360w,\n/static/33293e51d1c8b0b0e615d9c783f5abd0/37523/img_2.png 720w,\n/static/33293e51d1c8b0b0e615d9c783f5abd0/302a4/img_2.png 1080w,\n/static/33293e51d1c8b0b0e615d9c783f5abd0/07a9c/img_2.png 1440w,\n/static/33293e51d1c8b0b0e615d9c783f5abd0/0486e/img_2.png 2008w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n</blockquote>\n<p>Â </p>\n<p>Â </p>\n<p>ë„-ì•.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#lcel-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4\">LCEL ì¸í„°í˜ì´ìŠ¤</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#batch-%EB%B0%B0%EC%B9%98-%EC%B2%98%EB%A6%AC\">batch(): ë°°ì¹˜ ì²˜ë¦¬</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%A9%94%EC%86%8C%EB%93%9C\">ë¹„ë™ê¸° ë©”ì†Œë“œ</a></p>\n<ul>\n<li><a href=\"#1-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%8A%A4%ED%8A%B8%EB%A6%BC-async-for-astream\">1. ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¼: async for, astream()</a></li>\n<li><a href=\"#2-%EB%B9%84%EB%8F%99%EA%B8%B0-%ED%98%B8%EC%B6%9C-ainvoke\">2. ë¹„ë™ê¸° í˜¸ì¶œ: ainvoke()</a></li>\n<li><a href=\"#3-%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B0%B0%EC%B9%98-abatch\">3. ë¹„ë™ê¸° ë°°ì¹˜: abatch()</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#runnable-interface\">Runnable Interface</a></p>\n<ul>\n<li>\n<p><a href=\"#runnable-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C\">Runnable í”„ë¡œí† ì½œ</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%84%EB%8B%AC-%EB%B0%A9%EB%B2%95\">ë°ì´í„° ì „ë‹¬ ë°©ë²•</a></p>\n<ul>\n<li><a href=\"#1-%EA%B0%92-%EC%A0%84%EB%8B%AC-runnablepassthrough\">1. ê°’ ì „ë‹¬: RunnablePassthrough</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-runnable-%EB%B3%91%EB%A0%AC-%EC%97%B0%EA%B2%B0-runnableparallel\">2. Runnable ë³‘ë ¬ ì—°ê²°: RunnableParallel</a></p>\n</li>\n<li>\n<p><a href=\"#3-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%95%EC%9D%98-%ED%95%A8%EC%88%98-%EB%A7%A4%ED%95%91-runnablelambda\">3. ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ ë§¤í•‘: RunnableLambda</a></p>\n</li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"ì°¸ê³  : í…Œë””ë…¸íŠ¸ì˜ RAG ë¹„ë²•ë…¸íŠ¸ (https://fastcampus.co.kr/data_online_teddy)ì†ŒìŠ¤ì½”ë“œ: https://github.com/teddylee777/langchain-krìœ„í‚¤ë…ìŠ¤: https://wikidocs.net/book/14314 Â  ì˜¤ëŠ˜ë„ ê°€ì¦ˆì•„..!!!!\nìƒˆë¡œìš´ ê±¸ ì•Œì•„ê°€ëŠ” ê±´ ì •ë§ ì¦ê²ë‹¤~ ë‹¤ë§Œ ì•Œê²Œëœ ê²ƒì„ {ì •ë¦¬}í•˜ëŠ” ê²ƒì€ ë³„ê°œì¼ ë¿â€¦ Oâ€”< ê±°ë‘ì ˆë¯¸. ë ˆì¸ ê³ ~! Â  LCEL ì¸í„°í˜ì´ìŠ¤ ì§€ë‚œ ê¸€ì—ì„œëŠ” ,  ë©”ì„œë“œë¥¼ ì‚´í´ë´¤ëŠ”ë°\nì‚¬ì‹¤  ë©”ì„œë“œë„ ìˆë‹¤. batch(): ë°°ì¹˜ ì²˜ë¦¬ ë¦¬ìŠ¤íŠ¸ì— input_variablesì˜ ê°’ë“¤ì„ ê°–ëŠ” ë”•ì…”ë„ˆë¦¬ë¥¼ ëª¨ì•„ì„œ ê°ê° ë°°ì¹˜ë¡œ chainì— ë˜ì§„ë‹¤.\nmodelì„ ê±°ì¹˜ê³  íŒŒì‹±ì„ ê±°ì¹˜ë©´ì„œ ê° ë°°ì¹˜ ê²°ê³¼ì˜ contentë“¤ì„ ë¦¬ìŠ¤íŠ¸ì— ë¬¶ì–´ì„œ ì €ì¥ëœë‹¤. ì°¸ê³ ë¡œ config ë”•ì…”ë„ˆë¦¬ì—ì„œ max_concurrency í‚¤ì˜ ê°’ì„ ì„¤ì •í•˜ì—¬ ë™ì‹œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ì‘ì—… ìˆ˜ë¥¼ ì •í•´ì¤„ ìˆ˜ ìˆë‹¤. ì¦‰, í•œë²ˆì— ë°°ì¹˜ë¥¼ ì—¬ëŸ¬ ê°œ ì²˜â€¦","frontmatter":{"date":"December 12, 2025","title":"[LLM] í…Œë””ë…¸íŠ¸ì˜ RAG ë¹„ë²•ë…¸íŠ¸ ë„ì ë„ì -2","categories":"LLM","author":"ë³€ìš°ì¤‘","emoji":"â˜€ï¸"},"fields":{"slug":"/25-12-12_1/"}},"next":{"id":"66d916a8-fe23-5bc2-a843-b9c1486dac94","html":"<p>ì°¸ê³  : í…Œë””ë…¸íŠ¸ì˜ RAG ë¹„ë²•ë…¸íŠ¸ (<a href=\"https://fastcampus.co.kr/data_online_teddy)\">https://fastcampus.co.kr/data_online_teddy)</a><br>ì†ŒìŠ¤ì½”ë“œ: <a href=\"https://github.com/teddylee777/langchain-kr\">https://github.com/teddylee777/langchain-kr</a><br>ìœ„í‚¤ë…ìŠ¤: <a href=\"https://wikidocs.net/book/14314\">https://wikidocs.net/book/14314</a></p>\n<p>Â </p>\n<p>ì§€ë‚œ ë²ˆ í† í°í™” ê´€ë ¨í•´ì„œ ê³µë¶€í•˜ê³  ë¸”ë¡œê·¸ë„ ì¼ì§€ë§Œ, ê´€ë ¨ ë‚´ìš© ì´í•´ì™€ ë‚´ë©´í™” ì‚¬ì´ì˜ ê´´ë¦¬ê°€ ìˆì—ˆë‹¤.<br>\nê·¸ëŸ°ë°, ê°“ í…Œë””ë…¸íŠ¸ë‹˜ ê°•ì˜ ë“¤ìœ¼ë©´ì„œ ê·¸ ê´´ë¦¬ë¥¼ ì¢í˜€ë‚˜ê°ˆ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤^^&#x3C; êµ³ğŸ‘ğŸ»</p>\n<p>(ì˜¤ëŠ˜ ê²Œì‹œê¸€ì€ ì§„ì§œ ë‘ì„œì—†ì´ ê¹¨ì•Œ Tip ë„£ì„ ê²ƒì„ë‹¤â€¦ ë„ˆë¬´ ëœ¬ê¸ˆ ì—†ì–´ë„ ì´í•´ë¶€íƒâ€¦)</p>\n<p>Â </p>\n<h2 id=\"ì„œë¸Œì›Œë“œ-ê¸°ë°˜-í† í°í™”-ì™œ-í•˜ëŠ”-ê²ƒì¸ê°€\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B8%8C%EC%9B%8C%EB%93%9C-%EA%B8%B0%EB%B0%98-%ED%86%A0%ED%81%B0%ED%99%94-%EC%99%9C-%ED%95%98%EB%8A%94-%EA%B2%83%EC%9D%B8%EA%B0%80\" aria-label=\"ì„œë¸Œì›Œë“œ ê¸°ë°˜ í† í°í™” ì™œ í•˜ëŠ” ê²ƒì¸ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„œë¸Œì›Œë“œ ê¸°ë°˜ í† í°í™” ì™œ í•˜ëŠ” ê²ƒì¸ê°€?</h2>\n<hr>\n<p><strong>ë¬¸ì ê¸°ë°˜ í† í°í™”</strong>(í•œêµ­ì–´ëŠ” ìëª¨ ë‹¨ìœ„ë¡œ í† í°í™”)ëŠ” ë„ˆë¬´ ìª¼ê°œë‹ˆê¹Œ í¸ì§‘ê±°ë¦¬ë¥¼ ì´ìš©í•´ ê²€ìƒ‰ì–´ ì¶”ì²œ, ì˜¤íƒ€ êµì • ì •ë„ì— í™œìš©í•  ìˆ˜ ìˆëŠ”ë°,</p>\n<p><strong>í…ìŠ¤íŠ¸ ë¬¸ì¥ ìƒì„±ì—ì„œëŠ” ë„ˆë¬´ ë§ì´ ë¶„ì ˆí•´ë†“ìœ¼ë‹ˆ ì´ë ‡ê²Œ ìª¼ê°  ê²ƒì„ ëª¨ë¸ì´ í•™ìŠµí•˜ê³  ë˜ ìƒì„±í•´ë‚´ê¸°ê°€ ì–´ë ¤ì›Œì§„ë‹¤.(ëª¨ë¸ì´ ìƒì„±í•´ì•¼í•˜ëŠ” ë¬¶ìŒì´ ë” ë§ì•„ì§!!)<br>\n(ìš°ë¦¬í•œí…Œ ìëª¨ìŒë“¤ì„ ë§‰ ë¿Œë ¤ ì£¼ê³ , í…ìŠ¤íŠ¸ ë¬¸ì¥ ë§Œë“¤ë¼ê³  ì‹œì¼œë³´ë©´ ì–¼ë§ˆë‚˜ í˜ë“ ê°€â€¦)</strong></p>\n<p>ë‹¨ì–´ ê¸°ë°˜ í† í°í™”ëŠ” í…ìŠ¤íŠ¸ ë¬¸ì¥ ìƒì„±ì— íš¨ê³¼ì ì¼ ìˆ˜ ìˆë‹¤ì§€ë§Œ,<br>ì§€ë‚œ ë¸”ë¡œê·¸ ê¸€ì— ë‚¨ê²¼ë“¯ì´ ìì£¼ ì‚¬ìš©í•˜ëŠ” ë‹¨ì–´ë“¤ì´ ìˆì–ì•„..?(ìš”.)</p>\n<p>ê³ ëŸ° ê²ƒë“¤ë„ ê³ ë ¤í•˜ë ¤ë©´ <strong>ì„œë¸Œì›Œë“œ ê¸°ë°˜ í† í°í™”</strong>ë¥¼ í†µí•´ì„œ <strong>ë‹¨ì–´ ì‚¬ì „ ë§Œë“œëŠ” ê²ƒ</strong>ì´ ì¢‹ì§€~~(ìš”.)</p>\n<p>ê·¸. ì´. í›„. ê·¸ í† í°ë³„ë¡œ ë²¡í„°í™” ì‹œí‚¤ëŠ” ê²ƒì´ë‹¤!!! -> ê·¸ í•˜ë‚˜ê°€ 1í† í°ì„<br>-> ì¦‰, <strong>í† í°í™” ì˜í•˜ë©´ í† í° ì‚¬ìš©ëŸ‰ ì¤„ì¼ ìˆ˜ ìˆë‹¤</strong>!!!!</p>\n<p>Â </p>\n<h2 id=\"í•œêµ­ì–´-ë²„ì „-í† í°í™”-vs-ì˜ì–´-ë²„ì „-í† í°í™”\" style=\"position:relative;\"><a href=\"#%ED%95%9C%EA%B5%AD%EC%96%B4-%EB%B2%84%EC%A0%84-%ED%86%A0%ED%81%B0%ED%99%94-vs-%EC%98%81%EC%96%B4-%EB%B2%84%EC%A0%84-%ED%86%A0%ED%81%B0%ED%99%94\" aria-label=\"í•œêµ­ì–´ ë²„ì „ í† í°í™” vs ì˜ì–´ ë²„ì „ í† í°í™” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•œêµ­ì–´ ë²„ì „ í† í°í™” vs ì˜ì–´ ë²„ì „ í† í°í™”</h2>\n<hr>\n<h3 id=\"í•œêµ­ì–´-ë²„ì „\" style=\"position:relative;\"><a href=\"#%ED%95%9C%EA%B5%AD%EC%96%B4-%EB%B2%84%EC%A0%84\" aria-label=\"í•œêµ­ì–´ ë²„ì „ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•œêµ­ì–´ ë²„ì „</h3>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 57.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACHUlEQVQoz42TSU8bQRCF5/+fIgVErBgwhC0SipJbpOQQFMEBCzwe7xgbkjFeZvWMx559vqjbznYhKenpVZe6q0vvdSuapqGqKrVaDc/z+FcURSE5CALSNEUsRS3Pc8nK09MY07LQRyOm0xm2beM4DrZl4dg2i2Al4bpzVmFEkuYkaUYUxcRJulmva3leoPy8WdywWi7xfV/mf8YyTHD8JXGckSQxYZQRJhmRaBwnpHFCGKXynPLm5JyD43NKeyeUykeU908p7R2zXTrg8OQdrytvqdVbdPrf+dJqoDYvuOncUet26bWHdFWdW62J9liFHJRy5ZSXO/tslw7ZKR9xfPae3coZW6UDtl5VeLG1S/W2RrNxzderGpcXN1xcf+Kqeol69YHPapWPnQb1QQcKUFzHZjadYFsmxmyKaRrYtsncdSRc1ybLcmamiznxMMZzxmMHfWIzMoeYnkEURazCeK2hYZiMRiN0XUfXR0wmE+aeRygMSFLiOF4LXkAm3CyQkO7mQntIs0Ia85cpz0WSpnj+An+xxPMD/EXwiyX8gEWwXDcUzojkN29QrFm6vArpdO8kGs023V6fZquzqfVk3r8fCglRxGN8DiLCKOJ+8CAbiYMi7931abW79PsD2p0uw4dvcq/yP78iimM5RV1rbKZsoTVaqHVNNhP5YPi4bvg/E6Zphmk5TKYGhmFhWjaGaWM7LlGUSIfDKJEa/gA+4IDnaYFF5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"img 1\" title=\"img 1\" src=\"/static/88295fffbab9d7c05b261c6581cca526/37523/img_1.png\" srcset=\"/static/88295fffbab9d7c05b261c6581cca526/e9ff0/img_1.png 180w,\n/static/88295fffbab9d7c05b261c6581cca526/f21e7/img_1.png 360w,\n/static/88295fffbab9d7c05b261c6581cca526/37523/img_1.png 720w,\n/static/88295fffbab9d7c05b261c6581cca526/302a4/img_1.png 1080w,\n/static/88295fffbab9d7c05b261c6581cca526/07a9c/img_1.png 1440w,\n/static/88295fffbab9d7c05b261c6581cca526/5ab15/img_1.png 2446w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<h3 id=\"ì˜ì–´-ë²„ì „\" style=\"position:relative;\"><a href=\"#%EC%98%81%EC%96%B4-%EB%B2%84%EC%A0%84\" aria-label=\"ì˜ì–´ ë²„ì „ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì˜ì–´ ë²„ì „</h3>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 59.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACIklEQVQoz4WTTWsTURSG57+KC61CUaQglS5cFNy5ceFSf4AIulCqRis1YiptMpmZzCSTpEmbz/nKZJLM5yNzp2mDSD3w8N47F86cc99zJVmWKZVKlMtlVFUljyRJrkjTVLCOLMuExnGM53nFeZaRphlJkiIFQcB8HjDzffr9c0ajEd5shut5OI6L7/ssViGOW+zDKLkkJorTjX2BtPn3PLlIsFiwGVGS4i+WeMGSMIxYLROWy4xVGLKMI1ZhQriKiKIIyWx3qas6umFycipTq6tUawpqw6DT7WO2z9BbXXr9CT9O+5yoP5G1dxw0DCrKMVq1iqq0qWgyQ6uL9OLla27decT9h3vc3d5lZ3efx3vP2Nre5d6DJ9ze2uHp/nMqSp23n79yePSRo2+f+FD6zqvjCgfl37z/dciXozd0u8dIeXuj4ZDxeCzuL2c6nWLb1pXmMXUsdMNgoNU5UwZ01AnjiYXrzjj3XC6csfBCsm0bXdfpdDq0Wi2azSamaQrt9Xpind9rmkHub7pBkhZkCeRWxLnL67HIxyET9qf/ZB4scD2fmT/HExrgzxdi788DwSqMkNZzVSS8nDWudX0+GI6pyQqapgut1upUazJyXRXk3yzbQRJDeRNpUbntuOhGC1XTMZomzVYbRdFo6IZYaw2DycRC4j+xrjBvs9Pt0WyZXAxGov2p5YiqLNstDPJmRcs3UySN4uvXkL+QnDjJ/iLlD/iHgTUfW3h+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"img 2\" title=\"img 2\" src=\"/static/45bdf123ade94eda3c30734a1d02df1f/37523/img_2.png\" srcset=\"/static/45bdf123ade94eda3c30734a1d02df1f/e9ff0/img_2.png 180w,\n/static/45bdf123ade94eda3c30734a1d02df1f/f21e7/img_2.png 360w,\n/static/45bdf123ade94eda3c30734a1d02df1f/37523/img_2.png 720w,\n/static/45bdf123ade94eda3c30734a1d02df1f/302a4/img_2.png 1080w,\n/static/45bdf123ade94eda3c30734a1d02df1f/07a9c/img_2.png 1440w,\n/static/45bdf123ade94eda3c30734a1d02df1f/b0bb3/img_2.png 2344w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>ê·¸ë¦¼ì—ì„œ ì˜¤ë¥¸ìª½ í˜•ê´€íœìœ¼ë¡œ ì¹ í•œ ë§Œí¼ ê°ê° í•œ í† í°ì´ë‹¤. ê°™ì€ ë¬¸ì¥ì´ì§€ë§Œ, ì˜ì–´ ë²„ì „ì´ í† í°ì´ ì ê²Œ ë“ ë‹¤.<br>\nì¦‰, ë¹„ìš©ì„ ì¤„ì´ê¸´ ìœ„í•´ì„  ì˜ì–´ë¡œ ë°”ê¿”ì„œ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>\n<p>ê·¸ë¦¬ê³ , ëª¨ë¸ì— í•œêµ­ì–´ ì„œë¸Œì›Œë“œë¥¼ í•™ìŠµì‹œí‚¨ë‹¤ë©´ ë” ì¢‹ì„ ìˆ˜ ìˆì§€ ì•Šê² ëŠ”ê°€,,,,<br>\n(í•™ìŠµ ë¹„ìš©ì´ ë” ë“¤ ìˆ˜ëŠ” ìˆëŠ”ë°, LLM Post Trainingì´ í•„ìš”í•œ í”„ë¡œì íŠ¸ê°€ ìˆë‹¤ë©´ ë°˜ë“œì‹œ ê³ ë ¤í•´ë³¼ë§Œ í•˜ë‹¤.)</p>\n<p>í•œêµ­ì–´ ë²„ì „ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë“¯ì´ â€˜ì•ˆë…•í•˜ì„¸ìš”â€™ëŠ” â€˜ì•ˆâ€™+â€˜ë…•í•˜ì„¸ìš”â€™ 2ê°œ í† í°ìœ¼ë¡œ ì¸ì‹í•˜ê³  ìˆë‹¤. â€˜ì—´ì‹¬íˆâ€™ë„ â€˜ì—´â€™ + â€˜ì‹¬â€™ + â€˜íˆâ€™ 3ê°œ í† í°ìœ¼ë¡œ ì¸ì‹í•˜ê³  ìˆë‹¤.<br>\n(ìš”ì¦˜ì€ ì˜ˆì „ë³´ë‹¤ëŠ” gptì˜ í•œêµ­ì–´ í† í° ìµœì í™” ì˜ ë˜ì–´ ìˆë‹¤ê³  í•˜ì§€ë§Œ, ì–´ì¨Œë“  í† í° ìµœì í™”ë¥¼ ìœ„í•´ ì´ì •ë„ëŠ” ì•Œì•„ ë‘ì,, ì§€ê¸ˆì€ GPT-5.1ê¹Œì§€ ë‚˜ì™”ëŠ”ë° ë‚˜ì¤‘ì— í™•ì¸ ã„±ã„±)</p>\n<p>ì„œë¸Œì›Œë“œì˜ ì¤‘ìš”ì„± ì¸ì‹ ì™„.</p>\n<p>Â </p>\n<blockquote>\n<h3 id=\"ê¹¨ì•Œ-tip\" style=\"position:relative;\"><a href=\"#%EA%B9%A8%EC%95%8C-tip\" aria-label=\"ê¹¨ì•Œ tip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ê¹¨ì•Œ Tip</h3>\n<p>ë©€í‹°ëª¨ë‹¬ GPT ì‚¬ìš©ì‹œ LangChainì˜ HumanMessageë¥¼ ì´ìš©í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># HumanMessage ì•ˆì— ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ë¥¼ ê°™ì´ ë„£ëŠ” ë°©ë²•</span>\n<span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>messages <span class=\"token keyword\">import</span> HumanMessage\n\n<span class=\"token comment\"># GPT-4o / GPT-4.1 ë“± ë©€í‹°ëª¨ë‹¬ ì§€ì› ëª¨ë¸</span>\nllm <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>\n    model<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-4o-mini\"</span><span class=\"token punctuation\">,</span> \n    temperature<span class=\"token operator\">=</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ì˜ˆì‹œ ì´ë¯¸ì§€</span>\nimage_url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://example.com/cat.png\"</span>\n\nmessages <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    HumanMessage<span class=\"token punctuation\">(</span>\n        content<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ì´ ì´ë¯¸ì§€ì— ë¬´ì—‡ì´ ë³´ì—¬?\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"image_url\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"image_url\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"url\"</span><span class=\"token punctuation\">:</span> image_url<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n</blockquote>\n<p>Â </p>\n<h2 id=\"lcellangchain-expression-language\" style=\"position:relative;\"><a href=\"#lcellangchain-expression-language\" aria-label=\"lcellangchain expression language permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LCEL(LangChain Expression Language)</h2>\n<hr>\n<p>chain = prompt | model | output_parser<br>\nê°€ì¥ ê¸°ë³¸ì ì¸ chain í˜•íƒœì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI\n<span class=\"token comment\"># from langchain_teddynote.messages import stream_response  # teddynote ìŠ¤íŠ¸ë¦¬ë° ì¶œë ¥ (forë¬¸ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ì‰½ê²Œ ì¶œë ¥ë˜ë„ë¡ ë˜ì–´ ìˆìŒ)</span>\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> PromptTemplate\n\nprompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"{topic}ì— ëŒ€í•´ {how} ì„¤ëª…í•´ì£¼ì„¸ìš”.\"</span><span class=\"token punctuation\">)</span>\noutput_parser <span class=\"token operator\">=</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nmodel <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nchain <span class=\"token operator\">=</span> prompt <span class=\"token operator\">|</span> model <span class=\"token operator\">|</span> output_parser</code></pre></div>\n<p>chainì„ ì¶œë ¥í•´ì„œ ë³´ë©´</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PromptTemplate(input_variables=['how', 'topic'], input_types={}, partial_variables={}, template='{topic} ì— ëŒ€í•´ {how} ì„¤ëª…í•´ì£¼ì„¸ìš”.')\n| ChatOpenAI(client=&lt;openai.resources.chat.completions.completions.Completions object at 0x1751c8650>, async_client=&lt;openai.resources.chat.completions.completions.AsyncCompletions object at 0x175156110>, root_client=&lt;openai.OpenAI object at 0x15ffe7b90>, root_async_client=&lt;openai.AsyncOpenAI object at 0x1751c9290>, model_name='gpt-4.1-nano', temperature=0.1, model_kwargs={}, openai_api_key=SecretStr('**********'))\n| StrOutputParser()</code></pre></div>\n<p>ì´ë ‡ê²Œ ì—°ê²°ë¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token builtin\">input</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"topic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ì¸ê³µì§€ëŠ¥ ëª¨ë¸ì˜ í•™ìŠµ ì›ë¦¬\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"how\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"5ì‚´ì§œë¦¬ ì–´ë¦° ì•„ì´ì—ê²Œë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì‰½ê²Œ\"</span><span class=\"token punctuation\">}</span>\n\nchain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token builtin\">input</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>inputì—ì„œ ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ë³€ìˆ˜ ê°’ì„ ë„£ì–´ì£¼ê³ , chainì— invoke() í•¨ìˆ˜ì— ë˜ì ¸ì£¼ë©´ ê°’ì„ í•œë²ˆì— ìƒì„±í•´ì„œ ë³´ì—¬ì¤ë‹ˆë‹¤.<br>\n(ì°¸ê³ 1: ë³€ìˆ˜ê°€ 1ê°œì¼ ë•ŒëŠ” ë”•ì…”ë„ˆë¦¬ê°€ ì•„ë‹Œ ë¬¸ìì—´ë¡œ ë˜ì ¸ì¤˜ë„ ê°€ëŠ¥í•˜ë‹¤)<br>\n(ì°¸ê³ 2: stream() í•¨ìˆ˜ì— ë„£ì–´ì£¼ê³  forë¬¸ìœ¼ë¡œ ì¶œë ¥í•˜ë©´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶œë ¥ í† í°ì„ ì¶œë ¥ê°€ëŠ¥í•˜ë‹¤)</p>\n<blockquote>\n<p>ì´ë•ŒëŠ” <strong>ëª¨ë“  ë³€ìˆ˜ì˜ ê°’ì„ ë„£ì–´ì£¼ì–´ì•¼ ì˜¤ë¥˜ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤</strong>.</p>\n</blockquote>\n<p>ê·¸ë¦¬ê³ , ì¶œë ¥ ê²°ê³¼ëŠ” chain = prompt | model | output_parser ì´ë¯€ë¡œ<br>\n<strong>modelì—ì„œ ë‚˜ì˜¨ â­ï¸ outputì˜ content !!!!â­ï¸ ë¶€ë¶„</strong>ì„ string í˜•íƒœë¡œ íŒŒì‹±í•˜ì—¬ ë‚˜ì˜¨ë‹¤!!<br>\n(<strong>ì°¸ê³ 3: chain = prompt | model ì˜ ê²°ê³¼ëŠ” model ê°ì²´ê°€ ë‚˜ì™€ì„œ content, response_metadata ë“± í´ë˜ìŠ¤ ì†ì„±ë“¤ ëª¨ë‘ ê²°ê³¼ë¡œ ê°–ëŠ”ë‹¤</strong>)</p>\n<p>Â </p>\n<blockquote>\n<h3 id=\"ê¹¨ì•Œ-tip-1\" style=\"position:relative;\"><a href=\"#%EA%B9%A8%EC%95%8C-tip-1\" aria-label=\"ê¹¨ì•Œ tip 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ê¹¨ì•Œ Tip</h3>\n<p>ì¤‘ê´„í˜¸ {{}}ë¥¼ ê²¹ì³ ì“°ë©´ ë³€ìˆ˜ë¡œ ì¸ì‹í•˜ì§€ ì•Šê³  ì¤‘ê´„í˜¸ 2ìŒìœ¼ë¡œ ì¸ì‹í•œë‹¤.<br>\n(f-string ë°©ì‹ì€ ì¤‘ê´„í˜¸ ê²¹ì³ ì“°ë©´ ì¤‘ê´„í˜¸ 1ìŒìœ¼ë¡œ ì¸ì‹í•˜ëŠ”ë° prompt í…œí”Œë¦¿ì— ë„£ìœ¼ë©´ ë‘ìŒìœ¼ë¡œ ì¸ì‹ë¨â€¦ ì™œ ê·¸ëŸ°ì§€ëŠ” ì´í•´ê°€ ì•ˆê°€ìš”..)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">template <span class=\"token operator\">=</span> <span class=\"token string\">\"{{question}}ê³¼ ê°™ì´ ì¤‘ê´„í˜¸ ê²¹ì³ ì“°ë©´ ë³€ìˆ˜ë¡œ ì¸ì‹í•˜ì§€ ì•ŠëŠ”ë‹¤.\"</span>\ntemplate\n<span class=\"token comment\"># '{{question}}ê³¼ ê°™ì´ ì¤‘ê´„í˜¸ ê²¹ì³ ì“°ë©´ ë³€ìˆ˜ë¡œ ì¸ì‹í•˜ì§€ ì•ŠëŠ”ë‹¤.'</span></code></pre></div>\n</blockquote>\n<p>Â </p>\n<p>ì•„, invoke() ì¶œë ¥ê³¼ stream() ì¶œë ¥ ë°©ë²• ë¹„êµë„ í•´ë³´ì.</p>\n<h3 id=\"invoke-ì¶œë ¥-ë‹µë³€-ì™„ì„±-í›„-ì¶œë ¥\" style=\"position:relative;\"><a href=\"#invoke-%EC%B6%9C%EB%A0%A5-%EB%8B%B5%EB%B3%80-%EC%99%84%EC%84%B1-%ED%9B%84-%EC%B6%9C%EB%A0%A5\" aria-label=\"invoke ì¶œë ¥ ë‹µë³€ ì™„ì„± í›„ ì¶œë ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>invoke() ì¶œë ¥: ë‹µë³€ ì™„ì„± í›„ ì¶œë ¥</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">answer <span class=\"token operator\">=</span> llm<span class=\"token punctuation\">.</span>stream<span class=\"token punctuation\">(</span><span class=\"token string\">\"ëŒ€í•œë¯¼êµ­ì˜ ì•„ë¦„ë‹¤ìš´ ê´€ê´‘ì§€ 10ê³³ê³¼ ì£¼ì†Œë¥¼ ì•Œë ¤ì£¼ì„¸ìš”!\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"stream-ì¶œë ¥-ì‹¤ì‹œê°„-ì¶œë ¥\" style=\"position:relative;\"><a href=\"#stream-%EC%B6%9C%EB%A0%A5-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%B6%9C%EB%A0%A5\" aria-label=\"stream ì¶œë ¥ ì‹¤ì‹œê°„ ì¶œë ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>stream() ì¶œë ¥: ì‹¤ì‹œê°„ ì¶œë ¥</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">### ê°“ í…Œë””ë…¸íŠ¸ë‹˜ì´ ë§Œë“œì‹  ê²ƒ í™œìš©</span>\n<span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI\n<span class=\"token keyword\">from</span> langchain_teddynote<span class=\"token punctuation\">.</span>messages <span class=\"token keyword\">import</span> stream_response\n\n<span class=\"token comment\"># ê°ì²´ ìƒì„±</span>\nllm <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>\n    temperature<span class=\"token operator\">=</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># ì°½ì˜ì„± (0.0 ~ 2.0)</span>\n    model_name<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-4.1-nano\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># ëª¨ë¸ëª…</span>\n<span class=\"token punctuation\">)</span>\nanswer <span class=\"token operator\">=</span> llm<span class=\"token punctuation\">.</span>stream<span class=\"token punctuation\">(</span><span class=\"token string\">\"ëŒ€í•œë¯¼êµ­ì˜ ì•„ë¦„ë‹¤ìš´ ê´€ê´‘ì§€ 10ê³³ê³¼ ì£¼ì†Œë¥¼ ì•Œë ¤ì£¼ì„¸ìš”!\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ìµœì¢… ê²°ê³¼ë¬¼ í† í°ë³„ ëˆ„ì í•˜ë©´ì„œ ì‹¤ì‹œê°„ ì¶œë ¥</span>\nfinal_ansewer2 <span class=\"token operator\">=</span> stream_response<span class=\"token punctuation\">(</span>answer<span class=\"token punctuation\">,</span> return_output<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">### êµ­ë£° ë°©ë²•</span>\n<span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI\n\n<span class=\"token comment\"># ê°ì²´ ìƒì„±</span>\nllm <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>\n    temperature<span class=\"token operator\">=</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># ì°½ì˜ì„± (0.0 ~ 2.0)</span>\n    model_name<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-4.1-nano\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># ëª¨ë¸ëª…</span>\n<span class=\"token punctuation\">)</span>\n\nanswer <span class=\"token operator\">=</span> llm<span class=\"token punctuation\">.</span>stream<span class=\"token punctuation\">(</span><span class=\"token string\">\"ëŒ€í•œë¯¼êµ­ì˜ ì•„ë¦„ë‹¤ìš´ ê´€ê´‘ì§€ 10ê³³ê³¼ ì£¼ì†Œë¥¼ ì•Œë ¤ì£¼ì„¸ìš”!\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ìµœì¢… ê²°ê³¼ë¬¼ í† í°ë³„ ëˆ„ì í•˜ë©´ì„œ ì‹¤ì‹œê°„ ì¶œë ¥</span>\nfinal_answer <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>  <span class=\"token comment\"># ìµœì¢… ê²°ê³¼ë¬¼ í† í° ëˆ„ì ì‹œí‚¬ ë³€ìˆ˜</span>\n<span class=\"token keyword\">for</span> token <span class=\"token keyword\">in</span> answer<span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># token.content: ê° í† í° ë³„ë¡œ ë‹´ê¸´ ë‚´ìš©</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> flush<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    final_answer <span class=\"token operator\">+=</span> token<span class=\"token punctuation\">.</span>content</code></pre></div>\n<p><strong>.stream() í•œë‹¤ê³  ë°”ë¡œ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ì•„ë‹ˆê³ , forë¬¸ì„ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ í˜¸ì¶œë˜ë©´ì„œ ì‘ë‹µì„ ë°›ëŠ”ë‹¤.</strong></p>\n<p>Â </p>\n<p>Â </p>\n<p>ì¼ë‹¨ ì—¬ê¸°ì„œ ë.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%84%9C%EB%B8%8C%EC%9B%8C%EB%93%9C-%EA%B8%B0%EB%B0%98-%ED%86%A0%ED%81%B0%ED%99%94-%EC%99%9C-%ED%95%98%EB%8A%94-%EA%B2%83%EC%9D%B8%EA%B0%80\">ì„œë¸Œì›Œë“œ ê¸°ë°˜ í† í°í™” ì™œ í•˜ëŠ” ê²ƒì¸ê°€?</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%95%9C%EA%B5%AD%EC%96%B4-%EB%B2%84%EC%A0%84-%ED%86%A0%ED%81%B0%ED%99%94-vs-%EC%98%81%EC%96%B4-%EB%B2%84%EC%A0%84-%ED%86%A0%ED%81%B0%ED%99%94\">í•œêµ­ì–´ ë²„ì „ í† í°í™” vs ì˜ì–´ ë²„ì „ í† í°í™”</a></p>\n<ul>\n<li><a href=\"#%ED%95%9C%EA%B5%AD%EC%96%B4-%EB%B2%84%EC%A0%84\">í•œêµ­ì–´ ë²„ì „</a></li>\n<li><a href=\"#%EC%98%81%EC%96%B4-%EB%B2%84%EC%A0%84\">ì˜ì–´ ë²„ì „</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#lcellangchain-expression-language\">LCEL(LangChain Expression Language)</a></p>\n<ul>\n<li><a href=\"#invoke-%EC%B6%9C%EB%A0%A5-%EB%8B%B5%EB%B3%80-%EC%99%84%EC%84%B1-%ED%9B%84-%EC%B6%9C%EB%A0%A5\">invoke() ì¶œë ¥: ë‹µë³€ ì™„ì„± í›„ ì¶œë ¥</a></li>\n<li><a href=\"#stream-%EC%B6%9C%EB%A0%A5-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%B6%9C%EB%A0%A5\">stream() ì¶œë ¥: ì‹¤ì‹œê°„ ì¶œë ¥</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"December 11, 2025","title":"[LLM] í…Œë””ë…¸íŠ¸ì˜ RAG ë¹„ë²•ë…¸íŠ¸ ë„ì ë„ì -1","categories":"NLP LLM","author":"ë³€ìš°ì¤‘","emoji":"â˜€ï¸"},"fields":{"slug":"/25-12-11_1/"}},"prev":{"id":"d023c61d-c7ed-5cce-a75f-62754442ed31","html":"<p>ì°¸ê³  : í…Œë””ë…¸íŠ¸ì˜ RAG ë¹„ë²•ë…¸íŠ¸ (<a href=\"https://fastcampus.co.kr/data_online_teddy)\">https://fastcampus.co.kr/data_online_teddy)</a><br>ì†ŒìŠ¤ì½”ë“œ: <a href=\"https://github.com/teddylee777/langchain-kr\">https://github.com/teddylee777/langchain-kr</a><br>ìœ„í‚¤ë…ìŠ¤: <a href=\"https://wikidocs.net/book/14314\">https://wikidocs.net/book/14314</a></p>\n<p>Â </p>\n<p>ì˜¤ëŠ˜ë„ ì‘ì„±í•˜ëŠ”ë° Pydantic íŒŒì‹± ë”°ë¡œ ê³µë¶€í•œ ê²ƒ ì¢€ ë„ì ì´ê³  ê°€ê² ìŠµë‹ˆë‹¤.</p>\n<p>ë ˆì¸ ê¸°ë¦¿!</p>\n<p>Â </p>\n<h2 id=\"pydanticoutputparser\" style=\"position:relative;\"><a href=\"#pydanticoutputparser\" aria-label=\"pydanticoutputparser permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PydanticOutputParser</h2>\n<hr>\n<p>BaseModel/Field, partial_variables, ê²°ê³¼ í¬ë§· ì§€ì‹œì‚¬í•­, parser ë“±ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>ì˜ˆì‹œë¡œ ë°”ë¡œ ë´…ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># LangChain + PydanticOutputParser â€œì „ì²´ ì˜ˆì‹œ ì½”ë“œâ€</span>\n<span class=\"token comment\"># - BaseModel / Fieldë¡œ ì¶œë ¥ ìŠ¤í‚¤ë§ˆ ì •ì˜</span>\n<span class=\"token comment\"># - parser.get_format_instructions()ë¥¼ partial_variablesë¡œ í”„ë¡¬í”„íŠ¸ì— ì£¼ì…</span>\n<span class=\"token comment\"># - prompt | llm | parser ë¡œ \"êµ¬ì¡°í™”ëœ ê²°ê³¼\"ë¥¼ ê°•ì œ íŒŒì‹±</span>\n<span class=\"token comment\"># - RunnablePassthroughë¡œ ë‹¨ì¼ ì…ë ¥(str)ë„ ì²´ì¸ ë‚´ë¶€ì—ì„œ dictë¡œ ë§¤í•‘</span>\n\n<span class=\"token keyword\">from</span> typing <span class=\"token keyword\">import</span> Optional\n<span class=\"token keyword\">from</span> pydantic <span class=\"token keyword\">import</span> BaseModel<span class=\"token punctuation\">,</span> Field\n\n<span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> PromptTemplate\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>output_parsers <span class=\"token keyword\">import</span> PydanticOutputParser\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>runnables <span class=\"token keyword\">import</span> RunnablePassthrough\n\n\n<span class=\"token comment\"># 1) ì¶œë ¥ ìŠ¤í‚¤ë§ˆ ì •ì˜ (LLM ì¶œë ¥ì´ ë°˜ë“œì‹œ ì´ í˜•íƒœë¡œ íŒŒì‹±ë˜ì–´ì•¼ í•¨)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CountryInfo</span><span class=\"token punctuation\">(</span>BaseModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    country<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> Field<span class=\"token punctuation\">(</span>description<span class=\"token operator\">=</span><span class=\"token string\">\"êµ­ê°€ ì´ë¦„\"</span><span class=\"token punctuation\">)</span>\n    capital<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> Field<span class=\"token punctuation\">(</span>description<span class=\"token operator\">=</span><span class=\"token string\">\"ìˆ˜ë„\"</span><span class=\"token punctuation\">)</span>\n    population_million<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> Field<span class=\"token punctuation\">(</span>\n        default<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n        description<span class=\"token operator\">=</span><span class=\"token string\">\"ì¸êµ¬(ë°±ë§Œ ë‹¨ìœ„). ëª¨ë¥´ë©´ null\"</span>\n    <span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\"># 2) Pydantic íŒŒì„œ ìƒì„±</span>\nparser <span class=\"token operator\">=</span> PydanticOutputParser<span class=\"token punctuation\">(</span>pydantic_object<span class=\"token operator\">=</span>CountryInfo<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 3) í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ (format_instructionsëŠ” 'ì‚¬ìš©ì ì •ì˜ ë³€ìˆ˜ëª…'ì„)</span>\nprompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">(</span>\n    template<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string\">\"ë„ˆëŠ” ì •í™•íˆ ì§€ì •ëœ í˜•ì‹ìœ¼ë¡œë§Œ ë‹µí•˜ëŠ” ë„ìš°ë¯¸ì•¼.\\n\"</span>\n        <span class=\"token string\">\"{format_instructions}\\n\"</span>\n        <span class=\"token string\">\"êµ­ê°€: {country}\\n\"</span>\n        <span class=\"token string\">\"ì£¼ì˜: ì¶”ê°€ ì„¤ëª… ê¸ˆì§€. JSONë§Œ ì¶œë ¥.\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    input_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"country\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    partial_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n        <span class=\"token comment\"># parserê°€ ìš”êµ¬í•˜ëŠ” ì¶œë ¥ í˜•ì‹ ì§€ì¹¨ì„ í”„ë¡¬í”„íŠ¸ì— 'ê³ ì • ë¬¸ìì—´'ë¡œ ì£¼ì…</span>\n        <span class=\"token string\">\"format_instructions\"</span><span class=\"token punctuation\">:</span> parser<span class=\"token punctuation\">.</span>get_format_instructions<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 4) LLM</span>\nllm <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-4o-mini\"</span><span class=\"token punctuation\">,</span> temperature<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 5) ì²´ì¸ êµ¬ì„± (Prompt â†’ LLM â†’ Pydantic Parser)</span>\nchain <span class=\"token operator\">=</span> prompt <span class=\"token operator\">|</span> llm <span class=\"token operator\">|</span> parser\n\n<span class=\"token comment\"># (A) dictë¡œ ì‹¤í–‰</span>\nresult_a <span class=\"token operator\">=</span> chain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"country\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ëŒ€í•œë¯¼êµ­\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A) dict ì…ë ¥ ê²°ê³¼:\"</span><span class=\"token punctuation\">,</span> result_a<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A) íƒ€ì…:\"</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>result_a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># (B) ë‹¨ì¼ ê°’(str) ì…ë ¥ì„ ë°›ê³  ì‹¶ìœ¼ë©´ RunnablePassthroughë¡œ ë‚´ë¶€ì—ì„œ dictë¡œ ë§¤í•‘</span>\nchain_str_input <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"country\"</span><span class=\"token punctuation\">:</span> RunnablePassthrough<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">|</span> prompt\n    <span class=\"token operator\">|</span> llm\n    <span class=\"token operator\">|</span> parser\n<span class=\"token punctuation\">)</span>\n\nresult_b <span class=\"token operator\">=</span> chain_str_input<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token string\">\"ì¼ë³¸\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nB) str ì…ë ¥ ê²°ê³¼:\"</span><span class=\"token punctuation\">,</span> result_b<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"B) íƒ€ì…:\"</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>result_b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h3 id=\"1-code-classlanguage-textbasemodelcode--code-classlanguage-textfieldcodeëŠ”-ë¬´ì—‡ì¸ê°€\" style=\"position:relative;\"><a href=\"#1-code-classlanguage-textbasemodelcode--code-classlanguage-textfieldcode%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\" aria-label=\"1 code classlanguage textbasemodelcode  code classlanguage textfieldcodeëŠ” ë¬´ì—‡ì¸ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) <code class=\"language-text\">BaseModel</code> / <code class=\"language-text\">Field</code>ëŠ” ë¬´ì—‡ì¸ê°€?</h3>\n<ul>\n<li>\n<p><strong><code class=\"language-text\">BaseModel</code></strong>: ìƒì†ë°›ëŠ” ë¶€ëª¨ ëª¨ë¸ (ì—¬ê¸°ì„œëŠ” pydantic ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ BaseModel ëª¨ë“ˆì„ ìƒì† ë°›ëŠ” ê²ƒì„)</p>\n</li>\n<li>\n<p><strong><code class=\"language-text\">Field</code></strong>: ê° í•„ë“œì˜ ì˜ë¯¸/ì œì•½(ì„¤ëª…, ê¸°ë³¸ê°’ ë“±)ì„ ë¶™ì´ëŠ” <strong>ë©”íƒ€ë°ì´í„°</strong></p>\n<ul>\n<li>LLMì—ê²Œ â€œì´ í•„ë“œëŠ” ì´ëŸ° ì˜ë¯¸â€ë¼ê³  ì•Œë ¤ì¤˜ì„œ ì¶œë ¥ í’ˆì§ˆì„ ì˜¬ë ¤ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>ë³´í†µ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> í´ë˜ìŠ¤ëª…<span class=\"token punctuation\">(</span>ìƒì†ë°›ì„ ëª¨ë¸<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    ë³€ìˆ˜ëª…<span class=\"token punctuation\">:</span> ë³€ìˆ˜íƒ€ì… <span class=\"token operator\">=</span> Field<span class=\"token punctuation\">(</span>description<span class=\"token operator\">=</span><span class=\"token string\">\"ë³€ìˆ˜ ê´€ë ¨ ì„¤ëª…\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<p>Â </p>\n<h3 id=\"2-code-classlanguage-textpartial_variablescodeëŠ”-ë¬´ì—‡ì¸ê°€\" style=\"position:relative;\"><a href=\"#2-code-classlanguage-textpartial_variablescode%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\" aria-label=\"2 code classlanguage textpartial_variablescodeëŠ” ë¬´ì—‡ì¸ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) <code class=\"language-text\">partial_variables</code>ëŠ” ë¬´ì—‡ì¸ê°€?</h3>\n<ul>\n<li>ë¯¸ë¦¬ í”„ë¡¬í”„íŠ¸ì— ë¬¸ìì—´ì„ ì±„ì›Œì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.</li>\n<li>ì—¬ê¸°ì„œëŠ” í”„ë¡¬í”„íŠ¸ ë‚´ë¶€ ë³€ìˆ˜ì—ì„œ <code class=\"language-text\">format_instructions</code> ê°’ì„ ì±„ì›Œì£¼ê³  ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<p>Â </p>\n<h3 id=\"3-code-classlanguage-textformat_instructionscodeëŠ”-ì›ë˜-ìˆëŠ”-ë³€ìˆ˜ì¸ê°€\" style=\"position:relative;\"><a href=\"#3-code-classlanguage-textformat_instructionscode%EB%8A%94-%EC%9B%90%EB%9E%98-%EC%9E%88%EB%8A%94-%EB%B3%80%EC%88%98%EC%9D%B8%EA%B0%80\" aria-label=\"3 code classlanguage textformat_instructionscodeëŠ” ì›ë˜ ìˆëŠ” ë³€ìˆ˜ì¸ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) <code class=\"language-text\">format_instructions</code>ëŠ” ì›ë˜ ìˆëŠ” ë³€ìˆ˜ì¸ê°€?</h3>\n<ul>\n<li><strong>ì•„ë‹™ë‹ˆë‹¤. ì˜ˆì•½ì–´ê°€ ì•„ë‹™ë‹ˆë‹¤.</strong> <code class=\"language-text\">{format_instructions}</code>ëŠ” ë‚´ê°€ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ì— ë§Œë“  ë³€ìˆ˜ëª…ì¼ ë¿ ì°©ê° NO.</li>\n<li><code class=\"language-text\">partial_variables={\"format_instructions\": ...}</code>ë¡œ ê·¸ ë³€ìˆ˜ ìë¦¬ì— ë“¤ì–´ê°ˆ ê°’ì„ ì±„ìš´ ê²ƒì´ë¼, ë³€ìˆ˜ëª…ì€ <code class=\"language-text\">schema_guide</code>, <code class=\"language-text\">output_rules</code> ë“±ìœ¼ë¡œ ë°”ê¿”ë„ ë©ë‹ˆë‹¤. (í”„ë¡¬í”„íŠ¸ì˜ <code class=\"language-text\">{...}</code>ì™€ë§Œ ì¼ì¹˜í•˜ë©´ OK)</li>\n</ul>\n<p>ì‹¤ì œë¡œ í”„ë¡¬í”„íŠ¸ëŠ” ì•„ë˜ì™€ ìœ ì‚¬í•˜ê²Œ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ë„ˆëŠ” ì •í™•íˆ ì§€ì •ëœ í˜•ì‹ìœ¼ë¡œë§Œ ë‹µí•˜ëŠ” ë„ìš°ë¯¸ì•¼.\nThe output should be formatted as a JSON instance that conforms to the JSON schema below.\n\n{\n  \"title\": \"CountryInfo\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"country\": {\n      \"type\": \"string\",\n      \"description\": \"êµ­ê°€ ì´ë¦„\"\n    },\n    \"capital\": {\n      \"type\": \"string\",\n      \"description\": \"ìˆ˜ë„\"\n    },\n    \"population_million\": {\n      \"type\": \"integer\",\n      \"description\": \"ì¸êµ¬(ë°±ë§Œ ë‹¨ìœ„). ëª¨ë¥´ë©´ null\"\n    }\n  },\n  \"required\": [\"country\", \"capital\"]\n}\n\nêµ­ê°€: ëŒ€í•œë¯¼êµ­\nì£¼ì˜: ì¶”ê°€ ì„¤ëª… ê¸ˆì§€. JSONë§Œ ì¶œë ¥.</code></pre></div>\n<p><strong>ì´ë ‡ê²Œ ì¶œë ¥ í˜•ì‹ì„ ì •í•´ì¤€ í›„ì—, chain_str_inputì—ì„œ ë§ˆì§€ë§‰ parserê°€ í˜•ì‹ì— ë§ê²Œ íŒŒì‹±ì„ í•©ë‹ˆë‹¤.</strong></p>\n<p>Â </p>\n<h3 id=\"4-í”„ë¡¬í”„íŠ¸ì—-ì¶œë ¥-í¬ë§·ì„-ì •í•´ì¤€ë‹¤ê³ -í˜•ì‹ì„-ì •í™•íˆ-ë”°ë¥´ëŠ”ê°€\" style=\"position:relative;\"><a href=\"#4-%ED%94%84%EB%A1%AC%ED%94%84%ED%8A%B8%EC%97%90-%EC%B6%9C%EB%A0%A5-%ED%8F%AC%EB%A7%B7%EC%9D%84-%EC%A0%95%ED%95%B4%EC%A4%80%EB%8B%A4%EA%B3%A0-%ED%98%95%EC%8B%9D%EC%9D%84-%EC%A0%95%ED%99%95%ED%9E%88-%EB%94%B0%EB%A5%B4%EB%8A%94%EA%B0%80\" aria-label=\"4 í”„ë¡¬í”„íŠ¸ì— ì¶œë ¥ í¬ë§·ì„ ì •í•´ì¤€ë‹¤ê³  í˜•ì‹ì„ ì •í™•íˆ ë”°ë¥´ëŠ”ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. í”„ë¡¬í”„íŠ¸ì— ì¶œë ¥ í¬ë§·ì„ ì •í•´ì¤€ë‹¤ê³  í˜•ì‹ì„ ì •í™•íˆ ë”°ë¥´ëŠ”ê°€?</h3>\n<ul>\n<li><strong>ì•„ë‹™ë‹ˆë‹¤. í”„ë¡¬í”„íŠ¸ì— ì§€ì¹¨ ë¬¸ìì—´ì„ ë¯¸ë¦¬ ì±„ì›Œ ë„£ì–´ì£¼ëŠ” ê¸°ëŠ¥ì´ë¼, LLMì´ ì§€ì¹¨ì„ ë”°ë¥¼ í™•ë¥ ë§Œ ë†’ì—¬ì¤„ ë¿ì…ë‹ˆë‹¤.</strong></li>\n<li>â­ï¸ <strong>ì§„ì§œ ê°•ì œëŠ” parserê°€ í•©ë‹ˆë‹¤.</strong> â­ï¸: LLM ì¶œë ¥ì´ ìŠ¤í‚¤ë§ˆì™€ ë‹¤ë¥´ë©´ <code class=\"language-text\">PydanticOutputParser</code>ê°€ íŒŒì‹± ì‹¤íŒ¨ë¡œ <strong>ì—ëŸ¬ ë°œìƒ</strong>í•œë‹¤ê³  í•©ë‹ˆë‹¤.</li>\n<li><strong><code class=\"language-text\">OutputFixingParser</code>ë¥¼ ì´ìš©í•´ì„œ ë‹¤ì‹œ ê³ ì³ë‹¬ë¼ëŠ” ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆê³ , <code class=\"language-text\">RetryOutputParser</code>ì„ ì´ìš©í•´ì„œ ì²˜ìŒ ë³´ëƒˆë˜ í”„ë¡¬í”„íŠ¸ì™€ ì˜ëª»ëœ ë‹µë³€ì„ ëª¨ë‘ í•¨ê»˜ ì£¼ì–´ ì¬ì‹œë„ë¥¼ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</strong></li>\n<li><strong>ë˜ëŠ”, <code class=\"language-text\">with_fallbacks</code>ì„ ì´ìš©í•´ì„œ í”Œëœ B ì²´ì¸ì„ ì¤€ë¹„í•´ë‘˜ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</strong></li>\n</ul>\n<p>ì´í•´ ì™„.</p>\n<p>Â </p>\n<p>Â </p>\n<h2 id=\"prompttemplate-ë‹¨ì¼-ë¬¸ìì—´-í”„ë¡¬í”„íŠ¸-í…œí”Œë¦¿\" style=\"position:relative;\"><a href=\"#prompttemplate-%EB%8B%A8%EC%9D%BC-%EB%AC%B8%EC%9E%90%EC%97%B4-%ED%94%84%EB%A1%AC%ED%94%84%ED%8A%B8-%ED%85%9C%ED%94%8C%EB%A6%BF\" aria-label=\"prompttemplate ë‹¨ì¼ ë¬¸ìì—´ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PromptTemplate: ë‹¨ì¼ ë¬¸ìì—´ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿</h2>\n<hr>\n<h3 id=\"prompt-ìƒì„±\" style=\"position:relative;\"><a href=\"#prompt-%EC%83%9D%EC%84%B1\" aria-label=\"prompt ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prompt ìƒì„±</h3>\n<p>PromptTemplateì„ ì´ìš©í•œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ìƒì„± ë°©ë²•ì€ 2ê°€ì§€.</p>\n<ol>\n<li>\n<p><code class=\"language-text\">PromptTemplate.from_template</code>ë¡œ ê°ì²´ ìƒì„±</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> PromptTemplate\ntemplate <span class=\"token operator\">=</span> <span class=\"token string\">\"{country}ì˜ ìˆ˜ë„ëŠ”?\"</span>\nprompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">.</span>from_template<span class=\"token punctuation\">(</span>template<span class=\"token punctuation\">)</span>\nprompt\n<span class=\"token comment\"># ì¶œë ¥: PromptTemplate(input_variables=['country'], input_types={}, partial_variables={}, template='{country}ì˜ ìˆ˜ë„ëŠ”?')</span></code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">PromptTemplate</code> ê°ì²´ë¥¼ í”„ë¡¬í”„íŠ¸ì™€ í•¨ê»˜ ë™ì‹œ ìƒì„±</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">template <span class=\"token operator\">=</span> <span class=\"token string\">\"{country}ì˜ ìˆ˜ë„ëŠ”?\"</span>\n\nprompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">(</span>\n    template<span class=\"token operator\">=</span>template<span class=\"token punctuation\">,</span>           <span class=\"token comment\"># ê°ì²´ ìƒì„± ì‹œ, í…œí”Œë¦¿ ì§ì ‘ ì„¤ì •</span>\n    input_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"country\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># input_variables ì§ì ‘ ì„¤ì •</span>\n<span class=\"token punctuation\">)</span>\nprompt\n<span class=\"token comment\"># ì¶œë ¥: PromptTemplate(input_variables=['country'], input_types={}, partial_variables={}, template='{country}ì˜ ìˆ˜ë„ëŠ”?')</span></code></pre></div>\n</li>\n</ol>\n<p>ì´ë ‡ê²Œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ìƒì„±í•  ìˆ˜ ìˆëŠ”ë°!<br><strong>ì…ë ¥ ë³€ìˆ˜ë¥¼ í˜¸ì¶œ ì „ì— ë¯¸ë¦¬ ì±„ìš°ëŠ” ë°©ë²•</strong>ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ë•Œ 2ê°€ì§€ ë°©ë²•ì´ ìˆëŠ”ë°,</p>\n<ol>\n<li>\n<p><code class=\"language-text\">PromptTemplate</code> ê°ì²´ ìƒì„± ì‹œ, <code class=\"language-text\">partial_variables</code> ê°’ ì±„ìš°ê¸°</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># template ì •ì˜</span>\ntemplate <span class=\"token operator\">=</span> <span class=\"token string\">\"{country1}ê³¼ {country2}ì˜ ìˆ˜ë„ëŠ” ê°ê° ì–´ë””ì¸ê°€ìš”?\"</span>\n\n<span class=\"token comment\"># PromptTemplate ê°ì²´ë¥¼ í™œìš©í•˜ì—¬ prompt_template ìƒì„±</span>\nprompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">(</span>\n    template<span class=\"token operator\">=</span>template<span class=\"token punctuation\">,</span>\n    input_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    partial_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"country2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ë¯¸êµ­\"</span>  <span class=\"token comment\"># dictionary í˜•íƒœë¡œ partial_variablesë¥¼ ì „ë‹¬</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\nprompt\n<span class=\"token comment\"># ì¶œë ¥: PromptTemplate(input_variables=['country1'], input_types={}, partial_variables={'country2': 'ë¯¸êµ­'}, template='{country1}ê³¼ {country2}ì˜ ìˆ˜ë„ëŠ” ê°ê° ì–´ë””ì¸ê°€ìš”?')</span></code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">PromptTemplate</code> ê°ì²´ ìƒì„± í›„ì— <code class=\"language-text\">partial()</code> ë©”ì„œë“œë¡œ ê°’ ì±„ìš°ê¸°</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># template ì •ì˜</span>\ntemplate <span class=\"token operator\">=</span> <span class=\"token string\">\"{country1}ê³¼ {country2}ì˜ ìˆ˜ë„ëŠ” ê°ê° ì–´ë””ì¸ê°€ìš”?\"</span>\n\n<span class=\"token comment\"># PromptTemplate ê°ì²´ë¥¼ í™œìš©í•˜ì—¬ prompt_template ìƒì„±</span>\nprompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">(</span>\n    template<span class=\"token operator\">=</span>template<span class=\"token punctuation\">,</span>\n    input_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span>\nprompt_partial <span class=\"token operator\">=</span> prompt<span class=\"token punctuation\">.</span>partial<span class=\"token punctuation\">(</span>country2<span class=\"token operator\">=</span><span class=\"token string\">\"ìºë‚˜ë‹¤\"</span><span class=\"token punctuation\">)</span>\nprompt_partial\n<span class=\"token comment\"># ì¶œë ¥: PromptTemplate(input_variables=['country1'], input_types={}, partial_variables={'country2': 'ìºë‚˜ë‹¤'}, template='{country1}ê³¼ {country2}ì˜ ìˆ˜ë„ëŠ” ê°ê° ì–´ë””ì¸ê°€ìš”?')</span>\n</code></pre></div>\n</li>\n</ol>\n<p>ì´ë ‡ê²Œ <code class=\"language-text\">partial_variables</code>ì— ê°’ì´ ë“¤ì–´ê°„ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.<br><strong>ì´ë ‡ê²Œ ì„¤ì •ë˜ì—ˆì„ ë•ŒëŠ” <code class=\"language-text\">input_variables</code> ê°’ì— ëŒ€í•œ ì…ë ¥ ë³€ìˆ˜ë§Œ ë„£ì–´ë„ í˜¸ì¶œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</strong></p>\n<blockquote>\n<h3 id=\"ê¹¨ì•Œ-tip\" style=\"position:relative;\"><a href=\"#%EA%B9%A8%EC%95%8C-tip\" aria-label=\"ê¹¨ì•Œ tip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ê¹¨ì•Œ Tip</h3>\n<p><strong><code class=\"language-text\">partial_variables</code>ì— ê°’ì´ ìˆì–´ë„ invoke() í˜¸ì¶œ ì‹œ, ì…ë ¥ ë³€ìˆ˜ ê°’ì„ ë°”ê¿”ì„œ í˜¸ì¶œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">chain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token string\">\"ëŒ€í•œë¯¼êµ­\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>content <span class=\"token comment\"># ê°€ëŠ¥</span>\nchain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ëŒ€í•œë¯¼êµ­\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>content <span class=\"token comment\"># ê°€ëŠ¥</span>\n\n<span class=\"token comment\"># partial_variablesì—ì„œ country2=\"ìºë‚˜ë‹¤\"ë¥¼ ë¬´ì‹œí•˜ê³  country2=\"í˜¸ì£¼\"ë¡œ ì‹¤í–‰ë¨</span>\nchain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"country1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ëŒ€í•œë¯¼êµ­\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"country2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"í˜¸ì£¼\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>content <span class=\"token comment\"># ê°€ëŠ¥</span></code></pre></div>\n<p><strong>ì¦‰, partial_variablesëŠ” ë””í´íŠ¸ ê°’ì´ë¼ê³  ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong> OK.</p>\n<p>ê·¸ë¦¬ê³ , <strong>partial_variablesì—ì„œ ê°’ì„ ì„¤ì •í•  ë•Œ í•¨ìˆ˜ë¥¼ ë„£ì–´ì¤„ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">get_today</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">\"%B %d\"</span><span class=\"token punctuation\">)</span>\n\nprompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">(</span>\n    template<span class=\"token operator\">=</span><span class=\"token string\">\"ì˜¤ëŠ˜ ë‚ ì§œ {today}ì— {country} ë‚˜ë¼ì˜ ë‚ ì”¨ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.\"</span><span class=\"token punctuation\">,</span>\n    input_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"country\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    partial_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"today\"</span><span class=\"token punctuation\">:</span> get_today\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n</blockquote>\n<p>Â </p>\n<h3 id=\"prompt-ê´€ë¦¬\" style=\"position:relative;\"><a href=\"#prompt-%EA%B4%80%EB%A6%AC\" aria-label=\"prompt ê´€ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prompt ê´€ë¦¬</h3>\n<p>yaml íŒŒì¼ë¡œ í”„ë¡¬í”„íŠ¸ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ê³ , load_prompt ëª¨ë“ˆì„ ì´ìš©í•´ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>(yaml íŒŒì¼ ì‘ì„± ì‹œ íŒŒì´í”„ <code class=\"language-text\">|</code>ì„ ì´ìš©í•´ ì—¬ëŸ¬ ì¤„ ì…ë ¥ì´ ê°€ëŠ¥í•˜ê³ , ì•ì— 2ì¹¸ ë„ì›Œì„œ ì‘ì„±í•©ë‹ˆë‹¤.)</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">_type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"prompt\"</span>\n<span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n  {country}ì˜ ìˆ˜ë„ì— ëŒ€í•´ì„œ ì•Œë ¤ì£¼ì„¸ìš”.\n  ìˆ˜ë„ì˜ íŠ¹ì§•ì„ ë‹¤ìŒì˜ ì–‘ì‹ì— ë§ê²Œ ì •ë¦¬í•´ ì£¼ì„¸ìš”.\n  300ì ë‚´ì™¸ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”.\n  í•œê¸€ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”.\n  ----\n  [ì–‘ì‹]\n  1. ë©´ì \n  2. ì¸êµ¬\n  3. ì—­ì‚¬ì  ì¥ì†Œ\n  4. íŠ¹ì‚°í’ˆ</span>\n  \n  <span class=\"token comment\">#Answer:</span>\n<span class=\"token key atrule\">input_variables</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"country\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>ì´ëŸ° ì‹ìœ¼ë¡œ ì €ì¥ëœ yaml íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> load_prompt\n\nprompt <span class=\"token operator\">=</span> load_prompt<span class=\"token punctuation\">(</span><span class=\"token string\">\"prompts/fruit_color.yaml\"</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span>\nprompt\n<span class=\"token comment\"># ì¶œë ¥: PromptTemplate(input_variables=['fruit'], input_types={}, partial_variables={}, template='{fruit}ì˜ ìƒ‰ê¹”ì´ ë­ì•¼?')</span></code></pre></div>\n<p>í”„ë¡¬í”„íŠ¸ëŠ” ì½”ë“œ ì™”ë‹¤ê°”ë‹¤ ë³´ì§€ ì•Šê³ , ì´ë ‡ê²Œ ê´€ë¦¬í•˜ë©´ í¸í•˜ê² ì§€ìš”~</p>\n<p>Â </p>\n<p>Â </p>\n<h2 id=\"chatprompttemplate-ëŒ€í™”ê¸°ë¡-ì£¼ì…\" style=\"position:relative;\"><a href=\"#chatprompttemplate-%EB%8C%80%ED%99%94%EA%B8%B0%EB%A1%9D-%EC%A3%BC%EC%9E%85\" aria-label=\"chatprompttemplate ëŒ€í™”ê¸°ë¡ ì£¼ì… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ChatPromptTemplate: ëŒ€í™”ê¸°ë¡ ì£¼ì…</h2>\n<hr>\n<p>ChatPromptTemplateëŠ” ì—­í• ê³¼ ë©”ì‹œì§€ë¥¼ íŠœí”Œë¡œ ë¬¶ì–´ í”„ë¡¬í”„íŠ¸ì— ë„£ì„ ìˆ˜ ìˆëŠ” í…œí”Œë¦¿ì…ë‹ˆë‹¤.<br>ë³´í†µ ëŒ€í™” ëª©ë¡ì„ ë„£ì„ ë•Œ í™œìš©í•©ë‹ˆë‹¤.</p>\n<p>ë ˆì¸ ê¸°ë¦¿.</p>\n<p>íŠœí”Œ <code class=\"language-text\">(role, message)</code>ë¡œ í…œí”Œë¦¿ì„ êµ¬ì„±í•˜ë©°, from_template(â€œë©”ì‹œì§€â€)ë¥¼ ë„£ìœ¼ë©´ ê¸°ë³¸ìœ¼ë¡œ roleì´ Humanì…ë‹ˆë‹¤.</p>\n<h3 id=\"from_message-ë©”ì„œë“œë¡œ-í…œí”Œë¦¿-êµ¬ì„±\" style=\"position:relative;\"><a href=\"#from_message-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A1%9C-%ED%85%9C%ED%94%8C%EB%A6%BF-%EA%B5%AC%EC%84%B1\" aria-label=\"from_message ë©”ì„œë“œë¡œ í…œí”Œë¦¿ êµ¬ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>from_message ë©”ì„œë“œë¡œ í…œí”Œë¦¿ êµ¬ì„±</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> ChatPromptTemplate\n\nchat_template <span class=\"token operator\">=</span> ChatPromptTemplate<span class=\"token punctuation\">.</span>from_messages<span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">[</span>\n        <span class=\"token comment\"># role, message</span>\n        <span class=\"token punctuation\">(</span><span class=\"token string\">\"system\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ë‹¹ì‹ ì€ ì¹œì ˆí•œ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì´ë¦„ì€ {name} ì…ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span><span class=\"token string\">\"human\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ë°˜ê°€ì›Œìš”!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span><span class=\"token string\">\"ai\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span><span class=\"token string\">\"human\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"{user_input}\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ì±— message ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</span>\nmessages <span class=\"token operator\">=</span> chat_template<span class=\"token punctuation\">.</span>format_messages<span class=\"token punctuation\">(</span>\n    name<span class=\"token operator\">=</span><span class=\"token string\">\"í…Œë””\"</span><span class=\"token punctuation\">,</span> user_input<span class=\"token operator\">=</span><span class=\"token string\">\"ë‹¹ì‹ ì˜ ì´ë¦„ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?\"</span>\n<span class=\"token punctuation\">)</span>\nmessages\n<span class=\"token comment\"># ì¶œë ¥: [SystemMessage(content='ë‹¹ì‹ ì€ ì¹œì ˆí•œ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì´ë¦„ì€ í…Œë”” ì…ë‹ˆë‹¤.', additional_kwargs={}, response_metadata={}), HumanMessage(content='ë°˜ê°€ì›Œìš”!', additional_kwargs={}, response_metadata={}), AIMessage(content='ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?', additional_kwargs={}, response_metadata={}), HumanMessage(content='ë‹¹ì‹ ì˜ ì´ë¦„ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?', additional_kwargs={}, response_metadata={})]</span></code></pre></div>\n<p><code class=\"language-text\">from_message()</code> ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬  system ë©”ì‹œì§€ë¡œ ì „ì—­ ì„¤ì •í•´ì£¼ê³ , humanê³¼ aiì˜ ëŒ€í™”ëª©ë¡ì„ í”„ë¡¬í”„íŠ¸ì— ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>roleì€ ai, human, system, tool ë“±ì´ ìˆìŠµë‹ˆë‹¤.</li>\n<li>role ì„¤ì •ì„ í†µí•´ í•´ë‹¹ ë©”ì‹œì§€ê°€ ì–´ë–¤ roleì„ ê°–ëŠ”ì§€ LLMì—ê²Œ ëª…í™•íˆ ì•Œë ¤ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n<li>ëŒ€í™” íë¦„ ìˆœì„œ (í˜„ì¬ëŠ” system â†’ human â†’ ai â†’ human ìˆœì„œ)ë¥¼ ê³ ì •ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<p>ê·¸ë¦¬ê³ , <code class=\"language-text\">format_messages()</code> ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ ì…ë ¥ ë³€ìˆ˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><strong>ì´ë ‡ê²Œ ì„¤ì •í•œ <code class=\"language-text\">messages</code>ë¥¼ ì¶œë ¥í•˜ë©´, <code class=\"language-text\">SystemMessage</code>, <code class=\"language-text\">HumanMessage</code>, <code class=\"language-text\">AIMessage</code> ê° contentì— í”„ë¡¬í”„íŠ¸ê°€ ì„¤ì •ë˜ì–´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong></p>\n<p>OK.</p>\n<p>Â </p>\n<p>ê·¸ë ‡ë‹¤ë©´,</p>\n<blockquote>\n<p><strong>Q. ì´ëŸ¬í•œ ëŒ€í™”ëª©ë¡ì„ í”„ë¡¬í”„íŠ¸ì— ì„¤ì •í•˜ë©´ ì–´ë–¤ ì¥ì ì´ ìˆëŠ” ê²ƒì¸ê°€?</strong></p>\n<p>=> LLMì´ í•´ë‹¹ ë©”ì‹œì§€ê°€ ì–´ë–¤ roleì¸ì§€ ëª…í™•í•˜ê²Œ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ì„ ì‚¬ìš©í•´ë„ ì•Œ ìˆ˜ëŠ” ìˆì§€ë§Œ, ì´ í…œí”Œë¦¿ì€ ëª…í™•í•˜ê²Œ ì•Œë ¤ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë„ ëª…í™•í•˜ê²Œ ì¸ì§€ ê°€ëŠ¥!!)</p>\n<p>ê·¸ë¦¬ê³ , ë‚˜ì¤‘ì— â­ï¸ <strong>â€œëŒ€í™” ê¸°ë¡ ìš”ì•½â€</strong> â­ï¸ì—ì„œ í™œìš© ê°€ëŠ¥!!!!</p>\n<p>ì—¬ê¸°ì„œ</p>\n<h3 id=\"-ê¹¨ì•Œ-tip\" style=\"position:relative;\"><a href=\"#-%EA%B9%A8%EC%95%8C-tip\" aria-label=\" ê¹¨ì•Œ tip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ ê¹¨ì•Œ Tip</h3>\n<p><strong>MessagesPlaceholder()ë¥¼ ì´ìš©í•˜ì—¬ ì•„ì§ ì±„ì›Œì§€ì§€ ì•Šì€ ëŒ€í™”ëª©ë¡ì„ í”„ë¡¬í”„íŠ¸ì— ê³ ì •ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong></p>\n<p><strong>ì¦‰, ë¯¸ë¦¬ ìë¦¬ ì°¨ì§€í•´ë†“ê³  ëŒ€í™”í•˜ë‹¤ê°€ ê·¸ ëŒ€í™”ë¥¼ ë¼ì›Œë„£ì„ ìˆ˜ ìˆëŠ” ê²ƒì„!!</strong> OK?!</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>output_parsers <span class=\"token keyword\">import</span> StrOutputParser\n<span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> ChatPromptTemplate<span class=\"token punctuation\">,</span> MessagesPlaceholder\n\nchat_prompt <span class=\"token operator\">=</span> ChatPromptTemplate<span class=\"token punctuation\">.</span>from_messages<span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"system\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"ë‹¹ì‹ ì€ ìš”ì•½ ì „ë¬¸ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì„ë¬´ëŠ” ì£¼ìš” í‚¤ì›Œë“œë¡œ ëŒ€í™”ë¥¼ ìš”ì•½í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\"># ì•„ì§ í™•ì •ë˜ì§€ ì•Šì€ ëŒ€í™”ë¥¼ ê³ ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>\n        <span class=\"token comment\"># variable_nameë¡œ í‚¤ ê°’ ì„¤ì •í•¨</span>\n        MessagesPlaceholder<span class=\"token punctuation\">(</span>variable_name<span class=\"token operator\">=</span><span class=\"token string\">\"conversation\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span><span class=\"token string\">\"human\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ì§€ê¸ˆê¹Œì§€ì˜ ëŒ€í™”ë¥¼ {word_count} ë‹¨ì–´ë¡œ ìš”ì•½í•©ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span>\nchat_prompt</code></pre></div>\n<p><strong><code class=\"language-text\">variable_name</code>ë¡œ ì•„ì§ ì •í•´ì§€ì§€ ì•Šì€ ëŒ€í™”ëª©ë¡(ë©”ì‹œì§€ ë¦¬ìŠ¤íŠ¸)ì˜ í‚¤ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong></p>\n<p><strong>format() ë©”ì„œë“œë¡œ í•œë²ˆ ì–´ë–»ê²Œ ì±„ì›Œì§€ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">formatted_chat_prompt <span class=\"token operator\">=</span> chat_prompt<span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>\n    word_count<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n    conversation<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">(</span><span class=\"token string\">\"human\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ì˜¤ëŠ˜ ìƒˆë¡œ ì…ì‚¬í•œ í…Œë”” ì…ë‹ˆë‹¤. ë§Œë‚˜ì„œ ë°˜ê°‘ìŠµë‹ˆë‹¤.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span><span class=\"token string\">\"ai\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ë°˜ê°€ì›Œìš”! ì•ìœ¼ë¡œ ì˜ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>formatted_chat_prompt<span class=\"token punctuation\">)</span>\n<span class=\"token triple-quoted-string string\">\"\"\"ì¶œë ¥:\nSystem: ë‹¹ì‹ ì€ ìš”ì•½ ì „ë¬¸ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì„ë¬´ëŠ” ì£¼ìš” í‚¤ì›Œë“œë¡œ ëŒ€í™”ë¥¼ ìš”ì•½í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\nHuman: ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ì˜¤ëŠ˜ ìƒˆë¡œ ì…ì‚¬í•œ í…Œë”” ì…ë‹ˆë‹¤. ë§Œë‚˜ì„œ ë°˜ê°‘ìŠµë‹ˆë‹¤.\nAI: ë°˜ê°€ì›Œìš”! ì•ìœ¼ë¡œ ì˜ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.\nHuman: ì§€ê¸ˆê¹Œì§€ì˜ ëŒ€í™”ë¥¼ 5 ë‹¨ì–´ë¡œ ìš”ì•½í•©ë‹ˆë‹¤.\n\"\"\"</span></code></pre></div>\n<p>ë‹¤ì‹œ chat_promptì„ ê°€ì§€ê³ , chainì„ ë§Œë“¤ê³  ì•„ë˜ì²˜ëŸ¼ invoke() í˜¸ì¶œí•˜ë©´<br><strong>ìœ„ì˜ formatìœ¼ë¡œ í™•ì¸í–ˆë˜ í”„ë¡¬í”„íŠ¸ê°€ LLMì—ê²Œ ë³´ë‚´ì–´ ì‘ë‹µê²°ê³¼ë¥¼ ë°›ì•„ì˜¤ê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">chain <span class=\"token operator\">=</span> chat_prompt <span class=\"token operator\">|</span> llm <span class=\"token operator\">|</span> StrOutputParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nchain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"word_count\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"conversation\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">(</span>\n                <span class=\"token string\">\"human\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ì˜¤ëŠ˜ ìƒˆë¡œ ì…ì‚¬í•œ í…Œë”” ì…ë‹ˆë‹¤. ë§Œë‚˜ì„œ ë°˜ê°‘ìŠµë‹ˆë‹¤.\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">(</span><span class=\"token string\">\"ai\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ë°˜ê°€ì›Œìš”! ì•ìœ¼ë¡œ ì˜ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># ì¶œë ¥: 'ìƒˆë¡œìš´ ì…ì‚¬, ë°˜ê°€ìš´ ë§Œë‚¨.'</span></code></pre></div>\n<p>LangSmithì—ì„œ ë³´ë©´,<br>ì•„ë˜ì²˜ëŸ¼ <code class=\"language-text\">MessagesPlaceholder()</code> ë¶€ë¶„ì— í”„ë¡¬í”„íŠ¸ê°€ ë¼ì›Œ ë“¤ì–´ê°„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 111.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2klEQVQ4y51U25KaQBTkA5JdHRiuIggou4sFpYaqPOUxz3nOH+Rb8tGd6gNDkEVKfWimHIa2+/Q5Y+Xtb1x+/cXx/YC6OaNtv+N8blHXJzT1CbtsD3eXQ/sRbKVh2+48lJYzVvT+E28//uBQ5KiqBk1zxvHYCCHXNCug4wTaC6CUhrLdbh2j33PcAFYcBYh8jXRXoCw/4DierGma48vXFVYrG4ro1X0i62HeWVGUIAy3suG6AbT2ZSVITtjELasTWL4fic3tdnfz39VS7UYQhVSw2SSiaHpgUHinOlHIR1lWEkCeH5AkGbJsjzQtkCQ54jidJZ2qNr+F0PNCIaBKhrBeO7NYEaOA5hxZfEnL7L2iKBFFW6nnGFRp9pk+BUxTHwhNujxMuwQ/+o+sJ02QpF05GOScyitCWnp5WV/h9VWNLOvOdm/ZtJMzgVimJRMIVRmlLMVSi0zbalDImnRkHaGp3RLhzVD4UModbErKqrNnrD2CroZegP3+TVIOw/juyZhtbLKSxNRtnODSKN4aT8sMPhMdmvbBcftUQ6oyt0un7Dm7tnJhkehyaVFVtVxdz9bu6nJgqqwjCZdm9U5CT3rvdPomKbPJg2DzVDCDQg4+FRJs6DHhowr/ASWeLq97a5oEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"img 1\" title=\"img 1\" src=\"/static/009f09c2a1754d79ab91f9587fe4c240/37523/img_1.png\" srcset=\"/static/009f09c2a1754d79ab91f9587fe4c240/e9ff0/img_1.png 180w,\n/static/009f09c2a1754d79ab91f9587fe4c240/f21e7/img_1.png 360w,\n/static/009f09c2a1754d79ab91f9587fe4c240/37523/img_1.png 720w,\n/static/009f09c2a1754d79ab91f9587fe4c240/302a4/img_1.png 1080w,\n/static/009f09c2a1754d79ab91f9587fe4c240/fbf76/img_1.png 1252w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n</blockquote>\n<p>Â </p>\n<p>Â </p>\n<h3 id=\"prompttemplateì™€-chatprompttemplate-ì¥ë‹¨ì -ë¹„êµ\" style=\"position:relative;\"><a href=\"#prompttemplate%EC%99%80-chatprompttemplate-%EC%9E%A5%EB%8B%A8%EC%A0%90-%EB%B9%84%EA%B5%90\" aria-label=\"prompttemplateì™€ chatprompttemplate ì¥ë‹¨ì  ë¹„êµ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PromptTemplateì™€ ChatPromptTemplate ì¥ë‹¨ì  ë¹„êµ</h3>\n<table>\n<thead>\n<tr>\n<th>êµ¬ë¶„</th>\n<th><strong>PromptTemplate</strong></th>\n<th><strong>ChatPromptTemplate</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ê¸°ë³¸ ê°œë…</td>\n<td>ë‹¨ì¼ ë¬¸ìì—´ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿</td>\n<td>ì—­í• (role) ê¸°ë°˜ ë©”ì‹œì§€ í…œí”Œë¦¿</td>\n</tr>\n<tr>\n<td>ì¶œë ¥ í˜•íƒœ</td>\n<td><code class=\"language-text\">str</code></td>\n<td><code class=\"language-text\">List[BaseMessage]</code></td>\n</tr>\n<tr>\n<td>ëª¨ë¸ ì í•©ë„</td>\n<td>ì¼ë°˜ LLM / ë‹¨ë°œ ì§ˆë¬¸</td>\n<td><strong>Chat Modelì— ìµœì í™”</strong></td>\n</tr>\n<tr>\n<td>role êµ¬ë¶„</td>\n<td>âŒ ì—†ìŒ</td>\n<td><strong>â­• system / human / ai / tool</strong></td>\n</tr>\n<tr>\n<td>system ì§€ì¹¨ í‘œí˜„</td>\n<td>ë¬¸ìì—´ì— í¬í•¨</td>\n<td><strong>system ë©”ì‹œì§€ë¡œ ë¶„ë¦¬</strong></td>\n</tr>\n<tr>\n<td>few-shot ì˜ˆì‹œ</td>\n<td>ë¬¸ìì—´ë¡œ ì§ì ‘ ì‘ì„±</td>\n<td><strong>human/ai ë©”ì‹œì§€ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ í‘œí˜„</strong></td>\n</tr>\n<tr>\n<td>ëŒ€í™” íë¦„ í‘œí˜„</td>\n<td>ë¶ˆëª…í™•</td>\n<td><strong>ëª…ì‹œì  (ìˆœì„œÂ·ì—­í•  ê³ ì •)</strong></td>\n</tr>\n<tr>\n<td>ì´ì „ ëŒ€í™” ì‚½ì…</td>\n<td>ìˆ˜ë™ ë¬¸ìì—´ ì¡°í•©</td>\n<td><strong>MessagesPlaceholderë¡œ êµ¬ì¡°ì  ì‚½ì…</strong></td>\n</tr>\n<tr>\n<td>Memory ì—°ë™</td>\n<td>ë¶ˆí¸</td>\n<td><strong>ìì—°ìŠ¤ëŸ½ê³  ì•ˆì •ì </strong></td>\n</tr>\n<tr>\n<td>Tool / Function í˜¸ì¶œ</td>\n<td>ë¹„ì í•©</td>\n<td><strong>í•„ìˆ˜ êµ¬ì¡°</strong></td>\n</tr>\n<tr>\n<td>í”„ë¡¬í”„íŠ¸ ë””ë²„ê¹…</td>\n<td>ë‹¨ìˆœ</td>\n<td>êµ¬ì¡°ê°€ ë³µì¡</td>\n</tr>\n<tr>\n<td>í•™ìŠµ ê³¡ì„ </td>\n<td><strong>ë‚®ìŒ</strong></td>\n<td>ìƒëŒ€ì ìœ¼ë¡œ ë†’ìŒ</td>\n</tr>\n<tr>\n<td>ììœ ë„</td>\n<td><strong>ë†’ìŒ</strong></td>\n<td>êµ¬ì¡° ì œì•½ ìˆìŒ</td>\n</tr>\n</tbody>\n</table>\n<p>ì´ì •ë„ë¡œ ì •ë¦¬í•  ìˆ˜ ìˆë‹¤ê³  ìš°ë¦¬ì˜ GPT ë°•ì‚¬ë‹˜ì´ ì•Œë ¤ì¤¬ìŠµë‹ˆë‹¤.</p>\n<p>Â </p>\n<p>Â </p>\n<p>ì—¬ê¸°ì„œ ì¼ë‹¨ ë. ë‹¤ìŒ í¬ìŠ¤íŒ…ë„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ì¼ ë“¯ í•©ë‹ˆë‹¤~</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#pydanticoutputparser\">PydanticOutputParser</a></p>\n<ul>\n<li><a href=\"#1-basemodel--field%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\">1) <code class=\"language-text\">BaseModel</code> / <code class=\"language-text\">Field</code>ëŠ” ë¬´ì—‡ì¸ê°€?</a></li>\n<li><a href=\"#2-partial_variables%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\">2) <code class=\"language-text\">partial_variables</code>ëŠ” ë¬´ì—‡ì¸ê°€?</a></li>\n<li><a href=\"#3-format_instructions%EB%8A%94-%EC%9B%90%EB%9E%98-%EC%9E%88%EB%8A%94-%EB%B3%80%EC%88%98%EC%9D%B8%EA%B0%80\">3) <code class=\"language-text\">format_instructions</code>ëŠ” ì›ë˜ ìˆëŠ” ë³€ìˆ˜ì¸ê°€?</a></li>\n<li><a href=\"#4-%ED%94%84%EB%A1%AC%ED%94%84%ED%8A%B8%EC%97%90-%EC%B6%9C%EB%A0%A5-%ED%8F%AC%EB%A7%B7%EC%9D%84-%EC%A0%95%ED%95%B4%EC%A4%80%EB%8B%A4%EA%B3%A0-%ED%98%95%EC%8B%9D%EC%9D%84-%EC%A0%95%ED%99%95%ED%9E%88-%EB%94%B0%EB%A5%B4%EB%8A%94%EA%B0%80\">4. í”„ë¡¬í”„íŠ¸ì— ì¶œë ¥ í¬ë§·ì„ ì •í•´ì¤€ë‹¤ê³  í˜•ì‹ì„ ì •í™•íˆ ë”°ë¥´ëŠ”ê°€?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#prompttemplate-%EB%8B%A8%EC%9D%BC-%EB%AC%B8%EC%9E%90%EC%97%B4-%ED%94%84%EB%A1%AC%ED%94%84%ED%8A%B8-%ED%85%9C%ED%94%8C%EB%A6%BF\">PromptTemplate: ë‹¨ì¼ ë¬¸ìì—´ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿</a></p>\n<ul>\n<li><a href=\"#prompt-%EC%83%9D%EC%84%B1\">Prompt ìƒì„±</a></li>\n<li><a href=\"#prompt-%EA%B4%80%EB%A6%AC\">Prompt ê´€ë¦¬</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#chatprompttemplate-%EB%8C%80%ED%99%94%EA%B8%B0%EB%A1%9D-%EC%A3%BC%EC%9E%85\">ChatPromptTemplate: ëŒ€í™”ê¸°ë¡ ì£¼ì…</a></p>\n<ul>\n<li><a href=\"#from_message-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A1%9C-%ED%85%9C%ED%94%8C%EB%A6%BF-%EA%B5%AC%EC%84%B1\">from_message ë©”ì„œë“œë¡œ í…œí”Œë¦¿ êµ¬ì„±</a></li>\n<li><a href=\"#prompttemplate%EC%99%80-chatprompttemplate-%EC%9E%A5%EB%8B%A8%EC%A0%90-%EB%B9%84%EA%B5%90\">PromptTemplateì™€ ChatPromptTemplate ì¥ë‹¨ì  ë¹„êµ</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"December 13, 2025","title":"[LLM] í…Œë””ë…¸íŠ¸ì˜ RAG ë¹„ë²•ë…¸íŠ¸ ë„ì ë„ì -3","categories":"LLM","author":"ë³€ìš°ì¤‘","emoji":"â˜€ï¸"},"fields":{"slug":"/25-12-13_1/"}},"site":{"siteMetadata":{"siteUrl":"https://www.zoomkoding.com","comments":{"utterances":{"repo":"https://github.com/byeonwoojung/byeonwoojung.github.io"}}}}},"pageContext":{"slug":"/25-12-12_1/","nextSlug":"/25-12-11_1/","prevSlug":"/25-12-13_1/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}